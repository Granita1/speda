-->AncestorV2

-->Block Shitty Executors
local Executor=(identifyexecutor and identifyexecutor())or getexecutorname();
local SupportedExecutors={'Synapse X','ScriptWare','Krnl','Temple','Arceus'};
local Supported=table.find(SupportedExecutors,Executor)~=nil;
assert(Supported,'Executor Not Supported');

local Library={};
local HelpSections={}
getgenv().PlayerDropType='Both'
function Library:Initiate()
    CurrentTab=nil
    if game.CoreGui:FindFirstChild'Ancestor'then 
        game.CoreGui.Ancestor:Destroy();
    end;
    local AncestorFunctions={};
    local TweenService=game:GetService'TweenService';
    local Ancestor = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local Categories = Instance.new("Frame")
    local ScrollingFrame = Instance.new("ScrollingFrame")
    local UIListLayout = Instance.new("UIListLayout")
    
    local ImageButton_2 = Instance.new("ImageButton")
    local TextBox = Instance.new("TextBox")
    local UICorner = Instance.new("UICorner")
    local UICorner_2 = Instance.new("UICorner")
    
    

    local Slider = Instance.new("Frame")
    local UICorner_4 = Instance.new("UICorner")
    local Title_2 = Instance.new("TextLabel")
    local Plus = Instance.new("TextButton")
    local Minus = Instance.new("TextButton")
    local Input = Instance.new("TextBox")
    local UICorner_5 = Instance.new("UICorner")
    local MainSlider = Instance.new("TextButton")
    local UICorner_6 = Instance.new("UICorner")
    local Background = Instance.new("TextButton")
    local UICorner_7 = Instance.new("UICorner")
    
    local UICorner_10 = Instance.new("UICorner")
    
    
   
    local UICorner_17 = Instance.new("UICorner")
    local Categories_2 = Instance.new("Frame")

    --Properties:

    Ancestor.Name = "Ancestor"
    Ancestor.Parent = game.CoreGui
    Ancestor.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    MainFrame.Name = "MainFrame"
    MainFrame.Parent = Ancestor
    MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    MainFrame.BorderSizePixel = 0
    MainFrame.Position = UDim2.new(0.5, -350, 0.5, -200)
    MainFrame.Size = UDim2.new(0, 700, 0, 460)

    UICorner_17.Parent = MainFrame
    UICorner_17.CornerRadius=UDim.new(0,6)
    
    Categories.Name = "Categories"
    Categories.Parent = MainFrame
    Categories.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Categories.BorderSizePixel = 0
    Categories.Size = UDim2.new(0.25, 0, 1, 0)
    Categories.Position = UDim2.new(-.02, 0, 0, 0)

    ScrollingFrame.Parent = Categories
    ScrollingFrame.Active = true
    ScrollingFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ScrollingFrame.BackgroundTransparency = 1.000
    ScrollingFrame.Position = UDim2.new(0.100000001, 0, 0.26000011, 0)
    ScrollingFrame.Size = UDim2.new(0.800000012, 0, 0.65, 0)
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    ScrollingFrame.BorderSizePixel=0;
    ScrollingFrame.ScrollBarThickness=0;

    local TextButton = Instance.new("TextButton")
    TextButton.Parent = Categories
    TextButton.AnchorPoint=Vector2.new(.5,.5)
    TextButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TextButton.BackgroundTransparency = 1.000
    TextButton.BorderSizePixel = 0
    TextButton.Position = UDim2.new(0.5, 0, 0.98, 0)
    TextButton.Size = UDim2.new(1, 0, 0.1, 0)
    TextButton.AutoButtonColor = false
    TextButton.Font = Enum.Font.GothamBold
    TextButton.Text = 'Ancestor Private 2022'
    TextButton.TextColor3 = Color3.fromRGB(255, 255, 255);
    TextButton.TextSize = 14.000
    TextButton.ClipsDescendants=true;
    TextButton.TextXAlignment = Enum.TextXAlignment.Center

    UIListLayout.Parent = ScrollingFrame
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 2)
    local Frame = Instance.new("Frame")
    Frame.Name='Categories'
    Frame.Parent = ScrollingFrame
    Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Frame.BackgroundTransparency = 1.000
    Frame.Size = UDim2.new(1, 0, 0, 24)
    Categories_2.Name = "Categories"
    Categories_2.Parent = MainFrame
    Categories_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Categories_2.BorderSizePixel = 0
    Categories_2.Position = UDim2.new(0.221428569, 0, 0, 0)
    Categories_2.Size = UDim2.new(0.00857142825, 0, 1, 0)

    local Sections=Instance.new('Folder')
    Sections.Name = "Sections"
    Sections.Parent = MainFrame
    local dragInput,dragStart,startPos;
    local function update(input)
		local delta=input.Position-dragStart;
		MainFrame:TweenPosition(UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y),'Out','Linear',0.01,true);
	end;

    function AncestorFunctions:GetHelpSections()
        return HelpSections;
    end;


	MainFrame.InputBegan:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.MouseButton1 then
			dragging=true;
			dragStart=input.Position;
			startPos=MainFrame.Position;
			repeat game:GetService'RunService'.RenderStepped:wait()until input.UserInputState==Enum.UserInputState.End;
			dragging=false;
		end;
	end);

    ImageButton_2.InputBegan:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.MouseButton1 then
			dragging=true;
			dragStart=input.Position;
			startPos=MainFrame.Position;
			repeat game:GetService'RunService'.RenderStepped:wait()until input.UserInputState==Enum.UserInputState.End;
			dragging=false;
		end;
	end);

    ImageButton_2.InputChanged:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.MouseMovement then
			dragInput=input;
		end;
	end);

	MainFrame.InputChanged:Connect(function(input)
		if input.UserInputType==Enum.UserInputType.MouseMovement then
			dragInput=input;
		end;
	end);

    game:GetService('UserInputService').InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end;
    end);
    
    local CategoryAmount=0;

    function AncestorFunctions:CreateOption()
        local NoticeGUI = Instance.new("ScreenGui")
        local Notice = Instance.new("Frame")
        local Main = Instance.new("Frame")
        local DropShadow = Instance.new("Frame")
        local TextLabel = Instance.new("TextLabel")
        local Quit = Instance.new("TextButton")
        local DropShadow_2 = Instance.new("Frame")
        local TextLabel_2 = Instance.new("TextLabel")
        local Aux = Instance.new("TextButton")
        local DropShadow_3 = Instance.new("Frame")
        local TextLabel_3 = Instance.new("TextLabel")
        local UICorner_1 = Instance.new("UICorner")
        local UICorner_2 = Instance.new("UICorner")
        local UICorner_3 = Instance.new("UICorner")
        local UICorner_4 = Instance.new("UICorner")
        local UICorner_5 = Instance.new("UICorner")
        local UICorner_6 = Instance.new("UICorner")
        local UICorner_7 = Instance.new("UICorner")
        local UICorner_8 = Instance.new("UICorner")
        local UICorner_9 = Instance.new("UICorner")
        local Option,SelectionMade=false,false;
        --Properties:

        NoticeGUI.Name = "NoticeGUI"
        NoticeGUI.Parent = game.CoreGui

        Notice.Name = "Notice"
        Notice.Parent = NoticeGUI
        Notice.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Notice.BackgroundTransparency = 1.000
        Notice.BorderSizePixel = 0
        Notice.Size = UDim2.new(1, 0, 1, 0)
        Notice.Visible = true

        Main.Name = "Main"
        Main.Parent = Notice
        Main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        Main.BorderSizePixel = 0
        Main.Position = UDim2.new(0.5, -150, 0.5, -48)
        Main.Size = UDim2.new(0, 300, 0, 28)
        Main.ZIndex = 5
        UICorner_1.Parent=Main;

        DropShadow.Name = "DropShadow"
        DropShadow.Parent = Main
        DropShadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        DropShadow.BorderSizePixel = 0
        DropShadow.Position = UDim2.new(0, 4, 0, 4)
        DropShadow.Size = UDim2.new(1, 0, 1, 0)
        DropShadow.ZIndex = 4
        UICorner_2.Parent=DropShadow;

        TextLabel.Parent = Main
        TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel.BackgroundTransparency = 1.000
        TextLabel.BorderSizePixel = 0
        TextLabel.Position = UDim2.new(0, 10, 0, 10)
        TextLabel.Size = UDim2.new(1, -20, 1, -20)
        TextLabel.ZIndex = 5
        TextLabel.Font = Enum.Font.GothamBold
        TextLabel.Text = "Are You Sure?"
        TextLabel.TextColor3 = Color3.fromRGB(255,255,255)
        TextLabel.TextSize = 24.000
        TextLabel.TextWrapped = true
        UICorner_3.Parent=TextLabel
        Quit.Name = "Quit"
        Quit.Parent = Notice
        Quit.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        Quit.BorderSizePixel = 0
        Quit.Position = UDim2.new(0.5, 20, 0.5, 0)
        Quit.Selectable = false
        Quit.Size = UDim2.new(0, 130, 0, 40)
        Quit.ZIndex = 5
        Quit.Selected = true
        Quit.Font = Enum.Font.SourceSans
        Quit.Text = ""
        Quit.TextSize = 14.000
        UICorner_4.Parent=Quit
        Quit.MouseButton1Click:Connect(function()
            NoticeGUI:Destroy();
            Option=false;SelectionMade=true;
        end);

        DropShadow_2.Name = "DropShadow"
        DropShadow_2.Parent = Quit
        DropShadow_2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        DropShadow_2.BorderSizePixel = 0
        DropShadow_2.Position = UDim2.new(0, 4, 0, 4)
        DropShadow_2.Size = UDim2.new(1, 0, 1, 0)
        DropShadow_2.ZIndex = 4
        UICorner_5.Parent=DropShadow_2;

        TextLabel_2.Parent = Quit
        TextLabel_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        TextLabel_2.BackgroundTransparency = 1.000
        TextLabel_2.BorderSizePixel = 0
        TextLabel_2.Position = UDim2.new(0, 25, 0, 0)
        TextLabel_2.Size = UDim2.new(1, -50, 1, 0)
        TextLabel_2.ZIndex = 5
        TextLabel_2.Font = Enum.Font.GothamBold
        TextLabel_2.Text = "Decline"
        TextLabel_2.TextColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel_2.TextSize = 23.000
        TextLabel_2.TextWrapped = true
        UICorner_6.Parent=TextLabel2;

        Aux.Name = "Aux"
        Aux.Parent = Notice
        Aux.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
        Aux.BorderSizePixel = 0
        Aux.Position = UDim2.new(0.5, -150, 0.5, 0)
        Aux.Selectable = false
        Aux.Size = UDim2.new(0, 130, 0, 40)
        Aux.ZIndex = 5
        Aux.Selected = true
        Aux.Font = Enum.Font.SourceSans
        Aux.Text = ""
        Aux.TextSize = 14.000
        UICorner_7.Parent=Aux;
        Aux.MouseButton1Click:Connect(function()
            NoticeGUI:Destroy();
            Option=true;SelectionMade=true;
        end);

        DropShadow_3.Name = "DropShadow"
        DropShadow_3.Parent = Aux
        DropShadow_3.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        DropShadow_3.BorderSizePixel = 0
        DropShadow_3.Position = UDim2.new(0, 4, 0, 4)
        DropShadow_3.Size = UDim2.new(1, 0, 1, 0)
        DropShadow_3.ZIndex = 4
        UICorner_8.Parent=DropShadow_3;

        TextLabel_3.Parent = Aux
        TextLabel_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextLabel_3.BackgroundTransparency = 1.000
        TextLabel_3.BorderSizePixel = 0
        TextLabel_3.Position = UDim2.new(0, 25, 0, 0)
        TextLabel_3.Size = UDim2.new(1, -50, 1, 0)
        TextLabel_3.ZIndex = 5
        TextLabel_3.Font = Enum.Font.GothamBold
        TextLabel_3.Text = "Accept"
        TextLabel_3.TextColor3 = Color3.fromRGB(255,255,255)
        TextLabel_3.TextSize = 23.000
        TextLabel_3.TextWrapped = true
        UICorner_9.Parent=TextLabel_3;
        repeat task.wait()until SelectionMade;
        return Option
    end;
    function AncestorFunctions:CreateTab(ID,Name)
        local Tab={}
        -- ScrollingFrame.CanvasSize=ScrollingFrame.CanvasSize+UDim2.new(0,0,0,30)
        CategoryAmount=CategoryAmount+1;
        local ImageButton = Instance.new("ImageButton")
        local TextButton = Instance.new("TextButton")
        local Frame = Instance.new("Frame")
        Frame.Name='Categories'
        Frame.Parent = ScrollingFrame
        Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        Frame.BackgroundTransparency = 1.000
        Frame.Size = UDim2.new(1, 0, 0, 25)
        ImageButton.Parent = Frame
        ImageButton.BackgroundColor3 =Color3.fromRGB(255, 255, 255)
        ImageButton.ImageColor3=(CategoryAmount==1 and Color3.fromRGB(0,122,255))or Color3.fromRGB(255, 255, 255)
        ImageButton.BackgroundTransparency = 1.000
        ImageButton.BorderSizePixel = 0
        ImageButton.Size = UDim2.new(0.200000003, 0, 1.2, 0)
        ImageButton.AutoButtonColor = false
        ImageButton.Image ='http://www.roblox.com/asset/?id='..ID;
        TextButton.Parent = Frame
        TextButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        TextButton.BackgroundTransparency = 1.000
        TextButton.BorderSizePixel = 0
        TextButton.Position = UDim2.new(0.220000003, 0, 0.2, 0)
        TextButton.Size = UDim2.new(0.800000012, 0, 0.9, 0)
        TextButton.AutoButtonColor = false
        TextButton.Font = Enum.Font.GothamBold
        TextButton.Text = Name
        TextButton.TextColor3 = (CategoryAmount==1 and Color3.fromRGB(0,122,255))or Color3.fromRGB(255, 255, 255)
        TextButton.TextSize = 14.000
        TextButton.ClipsDescendants=true;
        TextButton.TextXAlignment = Enum.TextXAlignment.Left
        local function func()
            for i,v in next,ScrollingFrame:GetChildren()do 
                if v:IsA'Frame'and v~=Frame and v:FindFirstChild'TextButton'and v:FindFirstChild'ImageButton'then 
                    v.TextButton.TextColor3=Color3.fromRGB(255,255,255);
                    v.ImageButton.ImageColor3=Color3.fromRGB(255,255,255);
                    Sections:FindFirstChild(tostring(v.TextButton.Text)).Visible=false;
                elseif v:IsA'Frame'and v:FindFirstChild'TextButton'and v:FindFirstChild'ImageButton'then
                    Sections:FindFirstChild(tostring(v.TextButton.Text)).Visible=true;
                    task.spawn(function()
                        TweenService:Create(ImageButton,TweenInfo.new(0.2),{ImageColor3=Color3.fromRGB(0,122,255)}):Play();
                    end);
                    task.spawn(function()
                        TweenService:Create(TextButton,TweenInfo.new(0.2),{TextColor3=Color3.fromRGB(0,122,255);}):Play();
                    end);
                    CurrentTab=ScrollingFrame_2
                end;
            end;
        end;
        TextButton.MouseButton1Click:Connect(func);
        ImageButton.MouseButton1Click:Connect(func)
        function Tab:CreateSection()
            local Elements={}
            local ScrollingFrame_2 = Instance.new("ScrollingFrame")
            local UIListLayout_2 = Instance.new("UIListLayout")

            ScrollingFrame_2.Parent = Sections
            ScrollingFrame_2.Active = true
            ScrollingFrame_2.Visible=(CategoryAmount==1 and true)or false;
            ScrollingFrame_2.Name=Name
            ScrollingFrame_2.AnchorPoint = Vector2.new(0.5, 0.5)
            ScrollingFrame_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            ScrollingFrame_2.BackgroundTransparency = 1.000
            ScrollingFrame_2.Position = UDim2.new(0.615, 0, 0.5, 0)
            ScrollingFrame_2.Size = UDim2.new(0.709999979, 0, 0.949999988, 0)
            ScrollingFrame_2.CanvasSize = UDim2.new(0, 0, 0, 0)
            ScrollingFrame_2.BorderSizePixel=0;
            ScrollingFrame_2.ScrollBarThickness=0;
            ScrollingFrame_2.ScrollBarImageColor3=Color3.fromRGB(255,255,255)
            if CategoryAmount==1 then 
                CurrentTab=ScrollingFrame_2;
            end;

            UIListLayout_2.Parent = ScrollingFrame_2
            UIListLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
            UIListLayout_2.Padding = UDim.new(0.0199999996, 0)

            function Elements:CreateSubSection(MainTitle)
                ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,40)
                local Frame_2 = Instance.new("Frame")
                local Title = Instance.new("TextLabel")
                local Sections_2 = Instance.new("Frame")
                local UICorner_3 = Instance.new("UICorner")
                local UIListLayout_3 = Instance.new("UIListLayout")
                Sections_2.Name = "Sections"
                Sections_2.Parent = ScrollingFrame_2
                Sections_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
                Sections_2.Size = UDim2.new(0.996447325, 0, 0, 0)
                
                UICorner_3.Parent = Sections_2
                local Elements={};
                Frame_2.Parent = Sections_2
                Frame_2.AnchorPoint = Vector2.new(0.5, 0.5)
                Frame_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Frame_2.BackgroundTransparency = 1.000
                Frame_2.Position = UDim2.new(0.5, 0, 0.5, 0)
                Frame_2.Size = UDim2.new(0.971540928, 0, 1, 0)
                UIListLayout_3.Parent = Frame_2
                UIListLayout_3.SortOrder = Enum.SortOrder.LayoutOrder
                UIListLayout_3.Padding = UDim.new(0, 5)
                local Title = Instance.new("TextLabel")
                Title.Name = "Block"
                Title.Parent = Frame_2
                Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                Title.BackgroundTransparency = 1.000
                Title.Position = UDim2.new(0.018108651, 0, 0, 0)
                Title.Size = UDim2.new(0.381999999, 0, 0, 10)
                Title.Font = Enum.Font.GothamBlack
                Title.Text = '';
                Title.TextColor3 = Color3.fromRGB(255, 255, 255)
                Title.TextSize = 14.000
                Title.TextXAlignment = Enum.TextXAlignment.Left
                function Elements:CreateTitle(Name)
                    local TitleTable={};
                    if Frame_2:FindFirstChild'Block'then 
                        Frame_2.Block:Destroy();
                    end;
                    local Title = Instance.new("TextLabel")
                    Title.Name = "Title"
                    Title.Parent = Frame_2
                    Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title.BackgroundTransparency = 1.000
                    Title.Position = UDim2.new(0.018108651, 0, 0, 0)
                    Title.Size = UDim2.new(0.381999999, 0, 0, 30)
                    Title.Font = Enum.Font.GothamBlack
                    Title.Text = Name
                    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title.TextSize = 14.000
                    Title.TextXAlignment = Enum.TextXAlignment.Left
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,40)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,15)
                    function TitleTable:UpdateText(Text)
                        Title.Text = Text;
                    end;
                    return TitleTable;
                end;
                function Elements:CreateButton(Name,Callback,Animated,HelpToggled,HelpInfo)
                    local ButtonTable={}
                    local Button = Instance.new("Frame")
                    local UICorner_11 = Instance.new("UICorner")
                    local MainButton_3 = Instance.new("TextButton")
                    local UICorner_12 = Instance.new("UICorner")
                    local Title_4 = Instance.new("TextLabel")
                    Button.Name = "Button"
                    Button.Parent = Frame_2
                    Button.AnchorPoint = Vector2.new(0.5, 0.5)
                    Button.BackgroundColor3 = Color3.fromRGB(17,17,17)
                    Button.BorderSizePixel = 0
                    Button.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Button.Size = UDim2.new(1, 0, 0, 42)

                    UICorner_11.Parent = Button

                    MainButton_3.Name = "MainButton"
                    MainButton_3.Parent = Button
                    MainButton_3.AnchorPoint = Vector2.new(0.5, 0.5)
                    MainButton_3.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    MainButton_3.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainButton_3.BorderSizePixel = 0
                    MainButton_3.Position = UDim2.new(0.5, 0, 0.5, 0)
                    MainButton_3.Size = UDim2.new(0.990000019, 0, 0.800000012, 0)
                    MainButton_3.AutoButtonColor = false
                    MainButton_3.Font = Enum.Font.SourceSans
                    MainButton_3.Text = ""
                    MainButton_3.TextColor3 = Color3.fromRGB(0, 0, 0)
                    MainButton_3.TextSize = 14.000

                    function ButtonTable:UpdateHeader(Text)
                        Title_4.Text = Text;
                    end;

                    UICorner_12.Parent = MainButton_3

                    Title_4.Name = "Title"
                    Title_4.Parent = MainButton_3
                    Title_4.AnchorPoint = Vector2.new(0.5, 0.5)
                    Title_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_4.BackgroundTransparency = 1.000
                    Title_4.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Title_4.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_4.Font = Enum.Font.GothamBold
                    Title_4.Text = Name;
                    Title_4.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_4.TextSize = 14.000
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)
                    MainButton_3.MouseButton1Click:Connect(function()
                        if Animated then 
                            task.spawn(function()
                                TweenService:Create(MainButton_3,TweenInfo.new(0.1),{Size=UDim2.new(0, 440,0, 25)}):Play();
                                task.wait(0.05);
                                TweenService:Create(MainButton_3,TweenInfo.new(0.1),{Size=UDim2.new(0.990000019, 0, 0.7, 0)}):Play();
                            end);
                        end;
                        if Callback then 
                            Callback();
                        end;
                    end)
                    if HelpToggled then
                        local Help = Instance.new("TextButton")
                        local HelpFrame = Instance.new("Frame")
                        HelpSections[#HelpSections+1]=Help
                        local UICorner_9 = Instance.new("UICorner")
                        local TextLabel2 = Instance.new("TextLabel")
                        HelpFrame.Parent = Frame_2
                        HelpFrame.AnchorPoint = Vector2.new(0.5, 0.5)
                        HelpFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
                        HelpFrame.BorderSizePixel = 0
                        HelpFrame.Position = UDim2.new(0.5, 0, 1, 0)
                        HelpFrame.Size = UDim2.new(0.980000019, 0, 0, 20)
                        HelpFrame.Visible=false;
                        UICorner_9.Parent=HelpFrame

                        TextLabel2.Parent = HelpFrame
                        TextLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.BackgroundTransparency = 1
                        TextLabel2.Position = UDim2.new(0.52, 0, 0.5, 0)
                        TextLabel2.Size = UDim2.new(1, 0, 1, 0)
                        TextLabel2.ZIndex = 2
                        TextLabel2.Font = Enum.Font.GothamBold
                        TextLabel2.Text = HelpInfo or 'Describe the feature here';
                        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextSize = 12.000
                        TextLabel2.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextWrapped = true
                        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
                        Help.Name = "Help"
                        Help.Parent = Button
                        Help.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        Help.BackgroundTransparency = 1.000
                        Help.BorderColor3 = Color3.fromRGB(27, 42, 53)
                        Help.BorderSizePixel = 0
                        Help.Position = UDim2.new(0.945999988, 0, 0.349999994, 0)
                        Help.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                        Help.AutoButtonColor = false
                        Help.Font = Enum.Font.GothamBold
                        Help.Text = "+"
                        Help.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Help.TextSize = 18.000
                        local Toggled=false;
                        Help.MouseButton1Click:Connect(function()
                            Toggled=not Toggled;
                            if Toggled then 
                                HelpFrame.Size = UDim2.new(0,0,0,0)
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=135}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0.980000019, 0, 0, 20)}):Play();
                                HelpFrame.Visible=true;
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size+UDim2.new(0,0,0,27)}):Play();
                                task.wait(.15);
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,30)}):Play();
                                TextLabel2.TextTransparency=0;
                            else
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize-UDim2.new(0,0,0,30)}):Play();
                                TextLabel2.TextTransparency=1;
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=0}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size-UDim2.new(0,0,0,27)}):Play();
                                task.wait(.3)
                                HelpFrame.Visible=false
                            end;
                        end)
                    end;
                    return ButtonTable;
                end;
                function Elements:CreateLabel(Name)
                    local LabelTable={};
                    local Button = Instance.new("Frame")
                    local UICorner_11 = Instance.new("UICorner")
                    local MainButton_3 = Instance.new("TextLabel")
                    local UICorner_12 = Instance.new("UICorner")
                    local Title_4 = Instance.new("TextLabel")
                    Button.Name = "Button"
                    Button.Parent = Frame_2
                    Button.AnchorPoint = Vector2.new(0.5, 0.5)
                    Button.BackgroundColor3 = Color3.fromRGB(17,17,17)
                    Button.BorderSizePixel = 0
                    Button.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Button.Size = UDim2.new(1, 0, 0, 42)

                    UICorner_11.Parent = Button

                    MainButton_3.Name = "MainButton"
                    MainButton_3.Parent = Button
                    MainButton_3.AnchorPoint = Vector2.new(0.5, 0.5)
                    MainButton_3.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    MainButton_3.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainButton_3.BorderSizePixel = 0
                    MainButton_3.Position = UDim2.new(0.5, 0, 0.5, 0)
                    MainButton_3.Size = UDim2.new(0.980000019, 0, 0.800000012, 0)
                    MainButton_3.Font = Enum.Font.SourceSans
                    MainButton_3.Text = ""
                    MainButton_3.TextColor3 = Color3.fromRGB(0, 0, 0)
                    MainButton_3.TextSize = 14.000

                    UICorner_12.Parent = MainButton_3

                    Title_4.Name = "Title"
                    Title_4.Parent = MainButton_3
                    Title_4.AnchorPoint = Vector2.new(0.5, 0.5)
                    Title_4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_4.BackgroundTransparency = 1.000
                    Title_4.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Title_4.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_4.Font = Enum.Font.GothamBold
                    Title_4.Text = Name;
                    Title_4.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_4.TextSize = 14.000
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)
                    function LabelTable:UpdateText(Text)
                        Title_4.Text = Text;
                    end;
                    return LabelTable
                end;
                function Elements:CreateToggle(Name,Refresh,Callback,Default,HelpToggled,HelpInfo)
                    local Toggled=Default or false;
                    local ToggleTable={}
                    local Toggle = Instance.new("TextButton")
                    local UICorner_8 = Instance.new("UICorner")
                    local MainButton = Instance.new("TextButton")
                    local UICorner_9 = Instance.new("UICorner")
                    local UICorner_10 = Instance.new("UICorner")
                    local Title_3 = Instance.new("TextButton")
                    local MainButton_2 = Instance.new("TextButton")

                    Toggle.Name = "Toggle"
                    Toggle.Parent = Frame_2
                    Toggle.AnchorPoint = Vector2.new(0.5, 0.5)
                    Toggle.BackgroundColor3 = Color3.fromRGB(10,10,10)
                    Toggle.BorderSizePixel = 0
                    Toggle.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Toggle.Size = UDim2.new(1, 0, 0, 40)
                    Toggle.Text='';
                    Toggle.AutoButtonColor=false;

                    UICorner_8.Parent = Toggle

                    MainButton.Name = "MainButton"
                    MainButton.Parent = Toggle
                    MainButton.AnchorPoint = Vector2.new(0.5, 0.5)
                    MainButton.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
                    MainButton.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainButton.BorderSizePixel = 0
                    MainButton.Position = UDim2.new(0.9155815802, 0, 0.5, 0)
                    MainButton.Size = UDim2.new(0.0883683488, 0, 0.637499988, 0)
                    MainButton.AutoButtonColor = false
                    MainButton.Font = Enum.Font.SourceSans
                    MainButton.Text = ""
                    MainButton.TextColor3 = Color3.fromRGB(0, 0, 0)
                    MainButton.TextSize = 14.000

                    UICorner_9.Parent = MainButton
                    UICorner_9.CornerRadius=UDim.new(0,12)

                    Title_3.Name = "Title"
                    Title_3.Parent = Toggle
                    Title_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_3.BackgroundTransparency = 1.000
                    Title_3.Position = UDim2.new(0.0181086548, 0, 0.0500000007, 0)
                    Title_3.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_3.Font = Enum.Font.GothamBold
                    Title_3.Text = Name
                    Title_3.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_3.TextSize = 14.000
                    Title_3.TextXAlignment = Enum.TextXAlignment.Left

                    MainButton_2.Name = "MainButton"
                    MainButton_2.Parent = Toggle
                    MainButton_2.AnchorPoint = Vector2.new(0.5, 0.5)
                    MainButton_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    MainButton_2.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainButton_2.BorderSizePixel = 0
                    MainButton_2.Position = UDim2.new(0.8957110195, 0, 0.5, 0)
                    MainButton_2.Size = UDim2.new(0.050957229, 0, 0.617499988, 0)
                    MainButton_2.AutoButtonColor = false
                    MainButton_2.Font = Enum.Font.SourceSans
                    MainButton_2.Text = ""
                    MainButton_2.TextColor3 = Color3.fromRGB(0, 0, 0)
                    MainButton_2.TextSize = 14.000

                    if HelpToggled then
                        local Help = Instance.new("TextButton")

                        local HelpFrame = Instance.new("Frame")
                        HelpSections[#HelpSections+1]=Help
                        local UICorner_9 = Instance.new("UICorner")
                        local TextLabel2 = Instance.new("TextLabel")
                        HelpFrame.Parent = Frame_2
                        HelpFrame.AnchorPoint = Vector2.new(0.5, 0.5)
                        HelpFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
                        HelpFrame.BorderSizePixel = 0
                        HelpFrame.Position = UDim2.new(0.5, 0, 1, 0)
                        HelpFrame.Size = UDim2.new(0.980000019, 0, 0, 20)
                        HelpFrame.Visible=false;
                        UICorner_9.Parent=HelpFrame

                        TextLabel2.Parent = HelpFrame
                        TextLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.BackgroundTransparency = 1
                        TextLabel2.Position = UDim2.new(0.52, 0, 0.5, 0)
                        TextLabel2.Size = UDim2.new(1, 0, 1, 0)
                        TextLabel2.ZIndex = 2
                        TextLabel2.Font = Enum.Font.GothamBold
                        TextLabel2.Text = HelpInfo or 'Describe the feature here';
                        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextSize = 12.000
                        TextLabel2.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextWrapped = true
                        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
                        Help.Name = "Help"
                        Help.Parent = Toggle
                        Help.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        Help.BackgroundTransparency = 1.000
                        Help.BorderColor3 = Color3.fromRGB(27, 42, 53)
                        Help.BorderSizePixel = 0
                        Help.Position = UDim2.new(0.955999988, 0, 0.349999994, 0)
                        Help.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                        Help.AutoButtonColor = false
                        Help.Font = Enum.Font.GothamBold
                        Help.Text = "+"
                        Help.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Help.TextSize = 18.000
                        local Toggled=false;
                        Help.MouseButton1Click:Connect(function()
                            Toggled=not Toggled;
                            if Toggled then 
                                HelpFrame.Size = UDim2.new(0,0,0,0)
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=135}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0.980000019, 0, 0, 20)}):Play();
                                HelpFrame.Visible=true;
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size+UDim2.new(0,0,0,27)}):Play();
                                task.wait(.15);
                                TextLabel2.TextTransparency=0;
                            else
                                TextLabel2.TextTransparency=1;
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=0}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize-UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size-UDim2.new(0,0,0,27)}):Play();
                                
                                task.wait(.3)
                                HelpFrame.Visible=false
                            end;
                        end)
                    end;

                    UICorner_10.Parent = MainButton_2
                    UICorner_10.CornerRadius=UDim.new(0,12)
                    if Toggled then 
                        MainButton.BackgroundColor3=Color3.fromRGB(0,122,255)
                        TweenService:Create(MainButton_2, TweenInfo.new(0.1), {Position =  UDim2.new(0.93810195, 0, 0.5, 0)}):Play()
                    end;
                    if Callback then 
                        Callback(Toggled);
                    end;
                    local function func(Forced)
                        Toggled=not Toggled;
                        if Toggled then 
                            MainButton.BackgroundColor3=Color3.fromRGB(0,122,255)
                            TweenService:Create(MainButton_2, TweenInfo.new(0.1), {Position = UDim2.new(0.93810195, 0, 0.5, 0)}):Play()
                        else
                            MainButton.BackgroundColor3=Color3.fromRGB(15,15,15)
                            TweenService:Create(MainButton_2, TweenInfo.new(0.1), {Position = UDim2.new(0.8957110195, 0, 0.5, 0)}):Play()
                        end;
                        if Refresh then 
                            Refresh()Callback(Toggled);
                        end;
                        if Callback and not Refresh then 
                            Callback(Toggled);
                        end;
                    end;
                    function ToggleTable:Toggle()
                        Toggled=not Toggled;
                        if Toggled then 
                            MainButton.BackgroundColor3=Color3.fromRGB(0,122,255)
                            TweenService:Create(MainButton_2, TweenInfo.new(0.1), {Position = UDim2.new(0.93810195, 0, 0.5, 0)}):Play()
                        else
                            MainButton.BackgroundColor3=Color3.fromRGB(15,15,15)
                            TweenService:Create(MainButton_2, TweenInfo.new(0.1), {Position = UDim2.new(0.8957110195, 0, 0.5, 0)}):Play()
                        end;Callback(Toggled)
                    end;
                    function ToggleTable:GetState()
                        return Toggled;
                    end;
                    MainButton.MouseButton1Click:Connect(func);
                    MainButton_2.MouseButton1Click:Connect(func);
                    Toggle.MouseButton1Click:Connect(func);
                    Title_3.MouseButton1Click:Connect(func)
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)
                    return ToggleTable
                end;
                if MainTitle then 
                    Elements:CreateTitle(MainTitle);
                end;

                function Elements:CreateKeybind(Name,Callback,Default,HelpToggled,HelpInfo)
                    local Keybind = Instance.new("Frame")
                    local UICorner_13 = Instance.new("UICorner")
                    local Title_5 = Instance.new("TextLabel")
                    local Input_2 = Instance.new("TextLabel")
                    local TextButton=Instance.new'TextButton';
                    local UICorner_14 = Instance.new("UICorner")
                    Keybind.Name = "Keybind"
                    Keybind.Parent = Frame_2
                    Keybind.AnchorPoint = Vector2.new(0.5, 0.5)
                    Keybind.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    Keybind.BorderSizePixel = 0
                    Keybind.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Keybind.Size = UDim2.new(1, 0, 0, 40)

                    UICorner_13.Parent = Keybind

                    Title_5.Name = "Title"
                    Title_5.Parent = Keybind
                    Title_5.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_5.BackgroundTransparency = 1.000
                    Title_5.Position = UDim2.new(0.0181086548, 0, 0.0500000007, 0)
                    Title_5.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_5.Font = Enum.Font.GothamBold
                    Title_5.Text = Name or 'None';
                    Title_5.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_5.TextSize = 14.000
                    Title_5.TextXAlignment = Enum.TextXAlignment.Left

                    Input_2.Name = "Input"
                    Input_2.Parent = Keybind
                    Input_2.AnchorPoint = Vector2.new(0.5, 0.5)
                    Input_2.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Input_2.Position = UDim2.new(0.8551233585, 0, 0.5, 0)
                    Input_2.Size = UDim2.new(0.193649757, 0, 0.5, 0)
                    Input_2.Font = Enum.Font.GothamBold
                    Input_2.Text = (Default and Default.Name) or 'None';
                    Input_2.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Input_2.TextSize = 14.000

                    if HelpToggled then
                        local Help = Instance.new("TextButton")

                        local HelpFrame = Instance.new("Frame")
                        HelpSections[#HelpSections+1]=Help
                        local UICorner_9 = Instance.new("UICorner")
                        local TextLabel2 = Instance.new("TextLabel")
                        HelpFrame.Parent = Frame_2
                        HelpFrame.AnchorPoint = Vector2.new(0.5, 0.5)
                        HelpFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
                        HelpFrame.BorderSizePixel = 0
                        HelpFrame.Position = UDim2.new(0.5, 0, 1, 0)
                        HelpFrame.Size = UDim2.new(0.980000019, 0, 0, 20)
                        HelpFrame.Visible=false;
                        UICorner_9.Parent=HelpFrame

                        TextLabel2.Parent = HelpFrame
                        TextLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.BackgroundTransparency = 1
                        TextLabel2.Position = UDim2.new(0.52, 0, 0.5, 0)
                        TextLabel2.Size = UDim2.new(1, 0, 1, 0)
                        TextLabel2.ZIndex = 2
                        TextLabel2.Font = Enum.Font.GothamBold
                        TextLabel2.Text = HelpInfo or 'Describe the feature here';
                        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextSize = 12.000
                        TextLabel2.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextWrapped = true
                        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
                        Help.Name = "Help"
                        Help.Parent = Keybind
                        Help.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        Help.BackgroundTransparency = 1.000
                        Help.BorderColor3 = Color3.fromRGB(27, 42, 53)
                        Help.BorderSizePixel = 0
                        Help.Position = UDim2.new(0.955999988, 0, 0.349999994, 0)
                        Help.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                        Help.AutoButtonColor = false
                        Help.Font = Enum.Font.GothamBold
                        Help.Text = "+"
                        Help.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Help.TextSize = 18.000
                        local Toggled=false;
                        Help.MouseButton1Click:Connect(function()
                            Toggled=not Toggled;
                            if Toggled then 
                                HelpFrame.Size = UDim2.new(0,0,0,0)
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=135}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0.980000019, 0, 0, 20)}):Play();
                                HelpFrame.Visible=true;
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size+UDim2.new(0,0,0,27)}):Play();
                                task.wait(.15);
                                TextLabel2.TextTransparency=0;
                            else
                                TextLabel2.TextTransparency=1;
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=0}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize-UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size-UDim2.new(0,0,0,27)}):Play();
                                task.wait(.3)
                                HelpFrame.Visible=false
                            end;
                        end)
                    end;

                    TextButton.Name = "Input"
                    TextButton.Parent = Keybind
                    TextButton.AnchorPoint = Vector2.new(0.5, 0.5)
                    TextButton.BackgroundTransparency=1
                    TextButton.Position = UDim2.new(0.903175175, 0, 0.5, 0)
                    TextButton.Size = UDim2.new(0.143649757, 0, 0.5, 0)
                    TextButton.Text = ""

                    local InputConnection,CallbackConnection;
                    local Debounce=false;
                    TextButton.MouseButton1Click:Connect(function()
                        OldBind=Input_2.Text;
                        Input_2.Text='...';
                        Debounce=true;
                        InputConnection=game:GetService'UserInputService'.InputBegan:Connect(function(Key,Processed)
                            if Key.UserInputType.Name=='Keyboard'then 
                                if Key.KeyCode==Enum.KeyCode.Backspace then 
                                    Input_2.Text='None';
                                    Default='None';
                                    InputConnection:Disconnect()InputConnection=nil;
                                    return;
                                end;
                                if not Processed and InputConnection then 
                                    Input_2.Text=Key.KeyCode.Name;
                                    Default=Key.KeyCode;
                                    task.wait(.5);
                                    Debounce=false;
                                end;
                            else
                                Input_2.Text=OldBind
                            end;
                            InputConnection:Disconnect()InputConnection=nil;
                        end);
                    end);
                    CallbackConnection=game:GetService'UserInputService'.InputBegan:Connect(function(Key,Processed)
                        if not Processed and CallbackConnection and Key.KeyCode==Default then 
                            if Callback and not Debounce then
                                Callback(Key.KeyCode);
                            end;
                        end;
                    end);
                    game.CoreGui.ChildRemoved:Connect(function(Child)
                        if tostring(Child)=='Ancestor'then 
                            pcall(function()
                                CallbackConnection:Disconnect();
                                InputConnection:Disconnect();
                            end);
                        end;
                    end);
                    UICorner_14.Parent = Input_2
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)
                end;

                function Elements:CreateTextbox(Name,Callback,Default,PlayerList,HelpToggled,HelpInfo,Clear)
                    local Textbox = Instance.new("Frame")
                    local UICorner_15 = Instance.new("UICorner")
                    local Title_6 = Instance.new("TextLabel")
                    local Input_3 = Instance.new("TextBox")
                    local UICorner_16 = Instance.new("UICorner")
                    Textbox.Name = "Textbox"
                    Textbox.Parent = Frame_2
                    Textbox.AnchorPoint = Vector2.new(0.5, 0.5)
                    Textbox.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    Textbox.BorderSizePixel = 0
                    Textbox.Position = UDim2.new(0.50896185, 0, 0.277372628, 0)
                    Textbox.Size = UDim2.new(1, 0, 0, 40)

                    UICorner_15.Parent = Textbox

                    Title_6.Name = "Title"
                    Title_6.Parent = Textbox
                    Title_6.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_6.BackgroundTransparency = 1.000
                    Title_6.Position = UDim2.new(0.0181086548, 0, 0.0500000007, 0)
                    Title_6.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_6.Font = Enum.Font.GothamBold
                    Title_6.Text = Name
                    Title_6.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_6.TextSize = 14.000
                    Title_6.TextXAlignment = Enum.TextXAlignment.Left

                    Input_3.Name = "Input"
                    Input_3.Parent = Textbox
                    Input_3.AnchorPoint = Vector2.new(0.5, 0.5)
                    Input_3.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Input_3.Position = UDim2.new(0.781981041, 0, 0.5, 0)
                    Input_3.Size = UDim2.new(0.366037965, 0, 0.5, 0)
                    Input_3.Font = Enum.Font.GothamBold
                    Input_3.Text =(PlayerList and tostring(game.Players.LocalPlayer))or Default-- or'...';
                    Input_3.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Input_3.TextSize = 14.000
                    if Clear then
                        Input_3.ClearTextOnFocus=false;
                    end;

                    Input_3.FocusLost:Connect(function()
                        if Input_3.Text==''then 
                            Input_3.Text=Default;
                            return
                        end;
                        if PlayerList then 
                            for _,Player in next,game.Players:GetPlayers()do 
                                if string.find(tostring(Player):lower(),Input_3.Text:lower())then 
                                    Input_3.Text=tostring(Player);
                                    if Callback then 
                                        return Callback(Player);
                                    end;
                                end;
                            end;
                            Input_3.Text=tostring(game.Players.LocalPlayer);
                            if Callback then 
                                return Callback(game.Players.LocalPlayer);
                            end;
                        end      
                        if Callback then 
                            return Callback(Input_3.Text);
                        end;      
                    end);
                    if HelpToggled then
                        local Help = Instance.new("TextButton")

                        local HelpFrame = Instance.new("Frame")
                        HelpSections[#HelpSections+1]=Help
                        local UICorner_9 = Instance.new("UICorner")
                        local TextLabel2 = Instance.new("TextLabel")
                        HelpFrame.Parent = Frame_2
                        HelpFrame.AnchorPoint = Vector2.new(0.5, 0.5)
                        HelpFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
                        HelpFrame.BorderSizePixel = 0
                        HelpFrame.Position = UDim2.new(0.5, 0, 1, 0)
                        HelpFrame.Size = UDim2.new(0.980000019, 0, 0, 20)
                        HelpFrame.Visible=false;
                        UICorner_9.Parent=HelpFrame

                        TextLabel2.Parent = HelpFrame
                        TextLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.BackgroundTransparency = 1
                        TextLabel2.Position = UDim2.new(0.52, 0, 0.5, 0)
                        TextLabel2.Size = UDim2.new(1, 0, 1, 0)
                        TextLabel2.ZIndex = 2
                        TextLabel2.Font = Enum.Font.GothamBold
                        TextLabel2.Text = HelpInfo or 'Describe the feature here';
                        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextSize = 12.000
                        TextLabel2.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextWrapped = true
                        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
                        Help.Name = "Help"
                        Help.Parent = Textbox
                        Help.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        Help.BackgroundTransparency = 1.000
                        Help.BorderColor3 = Color3.fromRGB(27, 42, 53)
                        Help.BorderSizePixel = 0
                        Help.Position = UDim2.new(0.955999988, 0, 0.349999994, 0)
                        Help.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                        Help.AutoButtonColor = false
                        Help.Font = Enum.Font.GothamBold
                        Help.Text = "+"
                        Help.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Help.TextSize = 18.000
                        local Toggled=false;
                        Help.MouseButton1Click:Connect(function()
                            Toggled=not Toggled;
                            if Toggled then 
                                HelpFrame.Size = UDim2.new(0,0,0,0)
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=135}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0.980000019, 0, 0, 20)}):Play();
                                HelpFrame.Visible=true;
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size+UDim2.new(0,0,0,27)}):Play();
                                task.wait(.15);
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,30)}):Play();
                                TextLabel2.TextTransparency=0;
                            else
                                TextLabel2.TextTransparency=1;
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=0}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size-UDim2.new(0,0,0,27)}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize-UDim2.new(0,0,0,30)}):Play();
                                task.wait(.3)
                                HelpFrame.Visible=false
                            end;
                        end)
                    end;

                    UICorner_16.Parent = Input_3
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)
                end;
                
                function Elements:CreateDropDown(Callback,Options,Default,Playerlist)
                    local Dropdown = Instance.new("Frame")
                    local UICorner = Instance.new("UICorner")
                    local Input = Instance.new("TextBox")
                    local UICorner_2 = Instance.new("UICorner")
                    local MainButton = Instance.new("TextButton")
                    local UICorner_3 = Instance.new("UICorner")
                    local UICorner = Instance.new("UICorner")
                    local Frame = Instance.new("Frame")
                    local UICorner_2 = Instance.new("UICorner")
                    local TextBox = Instance.new("TextBox")
                    local UICorner_3 = Instance.new("UICorner")
                    local Toggle = Instance.new("TextButton")
                    local UICorner_4 = Instance.new("UICorner")
                    local ScrollingFrame2 = Instance.new("ScrollingFrame")
                    local Frame_3 = Instance.new("Frame")
                    local UIListLayout = Instance.new("UIListLayout")
                    local TextButton = Instance.new("Frame")
                    local UICorner_5 = Instance.new("UICorner")
                    local TextButton_2 = Instance.new("TextButton")
                    local UICorner_6 = Instance.new("UICorner")
                    local UICorner_7 = Instance.new("UICorner")

                    --Properties:

                    Dropdown.Name = "Dropdown"
                    Dropdown.Parent = Frame_2
                    Dropdown.AnchorPoint = Vector2.new(0.5, 0.5)
                    Dropdown.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    Dropdown.BorderSizePixel = 0
                    Dropdown.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Dropdown.Size = UDim2.new(1, 0, 0, 40)

                    UICorner.Parent = Dropdown

                    Input.Name = "Input"
                    Input.Parent = Dropdown
                    Input.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    Input.Position = UDim2.new(0.0179999992, 0, 0.25, 0)
                    Input.Size = UDim2.new(0.366037965, 0, 0.5, 0)
                    Input.Font = Enum.Font.GothamBold
                    Input.Text =(Options[1]~=nil and Default)or(PlayerDropType=='Both'and tostring(game.Players.LocalPlayer.DisplayName)..' @'..tostring(game.Players.LocalPlayer))or(PlayerDropType=='DisplayName'and tostring(game.Players.LocalPlayer))or(PlayerDropType=='UserName'and tostring(game.Players.LocalPlayer.DisplayName)or'None')
                    Input.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Input.TextSize = 14.000
                    Input.TextXAlignment = Enum.TextXAlignment.Left

                    UICorner_2.Parent = Input

                    MainButton.Name = "MainButton"
                    MainButton.Parent = Dropdown
                    MainButton.AnchorPoint = Vector2.new(0.5, 0.5)
                    MainButton.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                    MainButton.BackgroundTransparency = 1.000
                    MainButton.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainButton.BorderSizePixel = 0
                    MainButton.Position = UDim2.new(0.939274669, 0, 0.5, 0)
                    MainButton.Size = UDim2.new(0.0752862915, 0, 0.637499988, 0)
                    MainButton.AutoButtonColor = false
                    MainButton.Font = Enum.Font.GothamBold
                    MainButton.Text = "+"
                    MainButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                    MainButton.TextSize = 22.000

                    UICorner_3.Parent = MainButton

                    ScrollingFrame2.Parent = Frame_2
                    ScrollingFrame2.Active = true
                    ScrollingFrame2.AnchorPoint = Vector2.new(0.5, 0.5)
                    ScrollingFrame2.Visible = false;
                    ScrollingFrame2.BorderSizePixel = 0
                    ScrollingFrame2.BackgroundTransparency = 1
                    ScrollingFrame2.Position = UDim2.new(0.5, 0, 1.5, 0)
                    ScrollingFrame2.Size = UDim2.new(0, 470, 0.05, 5);
                    ScrollingFrame2.CanvasSize = UDim2.new(0, 450, 0.05, 1.3)
                    ScrollingFrame2.BackgroundColor3 = Color3.fromRGB(10, 10, 10)

                    Frame_3.Parent = ScrollingFrame2
                    Frame_3.AnchorPoint = Vector2.new(0.5, 0.5)
                    Frame_3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Frame_3.BackgroundTransparency = 1
                    Frame_3.BorderSizePixel = 0
                    Frame_3.Position = UDim2.new(0.5, 0, 0.5, 0)
                    Frame_3.Size = UDim2.new(0.95, 0, 0.98, 0)
                    local UIListLayout2=Instance.new'UIListLayout';
                    UIListLayout2.Parent = Frame_3
                    UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
                    UIListLayout2.Padding=UDim.new(0,2)
                    local UIC1=Instance.new'UICorner'UIC1.Parent=ScrollingFrame2

                    local Toggled=false;
                    local Total=0;
                    local Amount=0;
                    local Selected=0;
                    local Choices={};
                    local function AddOption(Name)
                        Amount=Amount+1
                        local TextButton = Instance.new("Frame")
                        local UICorner_5 = Instance.new("UICorner")
                        local TextButton_2 = Instance.new("TextButton")
                        local UICorner_6 = Instance.new("UICorner")
                        TextButton.Name = "TextButton"
                        TextButton.Parent = Frame_3
                        TextButton.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextButton.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                        TextButton.BackgroundTransparency=1;
                        TextButton.BorderSizePixel = 0
                        TextButton.Position = UDim2.new(0.5, 0, 0.5, 0)
                        TextButton.Size =UDim2.new(0, 440, 0, 35)
                        TextButton.ZIndex = 0
                
                        UICorner_5.Parent = TextButton
                
                        TextButton_2.Parent = TextButton
                        TextButton_2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextButton_2.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
                        TextButton_2.BorderSizePixel = 0
                        TextButton_2.Position = UDim2.new(0.5, 0, 0.5, 0)
                        TextButton_2.Size = UDim2.new(0.980000019, 0, 0.800000012, 0)
                        TextButton_2.ZIndex = -1
                        TextButton_2.Font = Enum.Font.GothamBold
                        TextButton_2.Text = Name
                        TextButton_2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextButton_2.TextSize = 14.000
                        TextButton_2.TextWrapped = true
                        TextButton_2.AutoButtonColor=false;
                        TextButton_2.MouseButton1Click:Connect(function()
                            
                            Selected=Selected+1;
                            TweenService:Create(MainButton,TweenInfo.new(0.3),{Rotation=0}):Play();
                            Input.Text=TextButton_2.Text;
                            if Callback then 
                                pcall(function()
                                    if Playerlist then 
                                        for i,v in next,game.Players:GetPlayers()do 
                                            if PlayerDropType=='Both'then
                                                if tostring(v)==tostring(TextButton_2.Text:split('@')[2])then 
                                                    Callback(tostring(v));
                                                end;
                                            elseif PlayerDropType=='DisplayName'then
                                                if tostring(v.DisplayName)==tostring(TextButton_2.Text)then 
                                                    Callback(tostring(v));
                                                end;
                                            elseif PlayerDropType=='UserName'then 
                                                if tostring(v)==tostring(TextButton_2.Text)then 
                                                    Callback(tostring(v));
                                                end;
                                            end;
                                        end;
                                        return;
                                    end;
                                    Callback(TextButton_2.Text);
                                end);
                            end;
                            Toggled=not Toggled
                            for i,v in next,Frame_3:GetChildren()do 
                                if tostring(v)=='TextButton'then 
                                    v:Destroy();
                                end;
                            end;
        
                            ScrollingFrame2.CanvasSize = UDim2.new(0, 450, 0.05, 1.3)
                            ScrollingFrame2.ScrollBarThickness=0;
                            TweenService:Create(ScrollingFrame2,TweenInfo.new(0.3),{Size = UDim2.new(0,0,0,0)}):Play();
                            TweenService:Create(ScrollingFrame_2, TweenInfo.new(0.3), {CanvasSize = ScrollingFrame_2.CanvasSize - UDim2.new(0,0,0,Total+210)}):Play();
                            TweenService:Create(Sections_2, TweenInfo.new(0.3), {Size = Sections_2.Size - UDim2.new(0,0,0,Total+80)}):Play();
                            Total=0;
                            task.wait(.3)
                            
                            ScrollingFrame2.Size = UDim2.new(0, 470, 0.05, 5);
                            ScrollingFrame2.Visible = false;
                        end)
                
                        UICorner_6.Parent = TextButton_2;
                        ScrollingFrame2.CanvasSize = ScrollingFrame2.CanvasSize + UDim2.new(0,0,0,37)
                        if Amount<6 then
                            TweenService:Create(ScrollingFrame2,TweenInfo.new(0.3),{Size = ScrollingFrame2.Size + UDim2.new(0,0,0,150)}):Play();
                            Total=Total+25;
                        end;
                        -- ScrollingFrame.CanvasSize  = ScrollingFrame.CanvasSize  + UDim2.new(0,0,0,25)
                        -- ScrollingFrame2.Size=ScrollingFrame2.Size + UDim2.new(0,0,0,25)
                    end;
                    local function ToggleVis()
                        Toggled=not Toggled
                        if Toggled then
                            if Playerlist then 
                                Options={};
                                for i,v in next,game.Players:GetPlayers()do
                                    if PlayerDropType=='Both'then
                                        Options[#Options+1]=tostring(v.DisplayName..' @'..tostring(v));
                                    elseif PlayerDropType=='DisplayName'then
                                        Options[#Options+1]=tostring(v.DisplayName);
                                    elseif PlayerDropType=='UserName'then 
                                        Options[#Options+1]=tostring(v);
                                    end;
                                end;
                            end;
                            TweenService:Create(MainButton,TweenInfo.new(0.3),{Rotation=135}):Play();
                            TweenService:Create(ScrollingFrame_2, TweenInfo.new(0.05), {CanvasSize = ScrollingFrame_2.CanvasSize + UDim2.new(0,0,0,150)}):Play();
                            ScrollingFrame2.Visible=true;
                            ScrollingFrame2.Size=UDim2.new(0,0,0,0);
                            ScrollingFrame2.ScrollBarThickness=0;
                            local Anim=TweenService:Create(ScrollingFrame2, TweenInfo.new(0.05), {Size = UDim2.new(0, 470, 0.05, 5)}):Play();
                            repeat task.wait()until ScrollingFrame2.Size==UDim2.new(0, 470, 0.05, 5)
                            if Options then 
                                for i,v in next,Options do 
                                    AddOption(v);
                                end;
                            end;
                            Amount=0;
                            TweenService:Create(ScrollingFrame_2, TweenInfo.new(0.3), {CanvasSize = ScrollingFrame_2.CanvasSize + UDim2.new(0,0,0,Total+60)}):Play();
                            TweenService:Create(Sections_2, TweenInfo.new(0.3), {Size = Sections_2.Size + UDim2.new(0,0,0,Total+80)}):Play();
                            task.wait(.1)
                            ScrollingFrame2.ScrollBarThickness=3;
                        else
                            for i,v in next,Frame_3:GetChildren()do 
                                if tostring(v)=='TextButton'then 
                                    v:Destroy();
                                end;
                            end;
                            TweenService:Create(MainButton,TweenInfo.new(0.3),{Rotation=0}):Play();
                            TweenService:Create(ScrollingFrame_2, TweenInfo.new(0.3), {CanvasSize = ScrollingFrame_2.CanvasSize - UDim2.new(0,0,0,Total+210)}):Play();
                            TweenService:Create(Sections_2, TweenInfo.new(0.3), {Size = Sections_2.Size - UDim2.new(0,0,0,Total+80)}):Play();
                            Total=0;
                            ScrollingFrame2.CanvasSize = UDim2.new(0, 450, 0.05, 1.3)
                            ScrollingFrame2.ScrollBarThickness=0;
                            TweenService:Create(ScrollingFrame2,TweenInfo.new(0.3),{Size = UDim2.new(0,0,0,0)}):Play();
                            task.wait(.3)
                            ScrollingFrame2.Size = UDim2.new(0, 470, 0.05, 5);
                            ScrollingFrame2.Visible = false;
                        end;
                    end;
        
                    local function TextChanged()
                        if not Toggled then
                            ToggleVis();
                            return
                        end;
                        TweenService:Create(ScrollingFrame2,TweenInfo.new(0.1),{CanvasPosition=Vector2.new(0,0)}):Play();
                        local Text=Input.Text:lower();
                        local list=Frame_3:GetChildren()
                        for i,v in next,list do 
                            if tostring(v)=='TextButton'then 
                                if not string.find(v.TextButton.Text:lower(),Text)then 
                                    v.Visible=false;
                                elseif string.find(v.TextButton.Text:lower(),Text)or Text==''then
                                    v.Visible=true;
                                end;
                            end;
                        end;
                    end;
                    MainButton.MouseButton1Click:Connect(ToggleVis);
                    Input:GetPropertyChangedSignal'Text':Connect(TextChanged)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,56)
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,43)
                end;
                function Elements:CreateSlider(Name,CallBack,Min,Max,Default,HelpToggled,HelpInfo,Header)
                    local SliderTable={};
                    local Slider = Instance.new("Frame")
                    local UICorner_4 = Instance.new("UICorner")
                    local Title_2 = Instance.new("TextLabel")
                    local Plus = Instance.new("TextButton")
                    local Minus = Instance.new("TextButton")
                    local Input = Instance.new("TextBox")
                    local UICorner_5 = Instance.new("UICorner")
                    local MainSlider = Instance.new("TextButton")
                    local UICorner_6 = Instance.new("UICorner")
                    local Background = Instance.new("TextButton")
                    local UICorner_7 = Instance.new("UICorner")
                    Slider.Name = "Slider"
                    Slider.Parent = Frame_2
                    Slider.AnchorPoint = Vector2.new(0.5, 0.5)
                    Slider.BackgroundColor3 = Color3.fromRGB(10,10, 10)
                    Slider.BorderSizePixel = 0
                    Slider.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                    Slider.Size = UDim2.new(1, 0, 0, 40)

                    UICorner_4.Parent = Slider

                    Title_2.Name = "Title"
                    Title_2.Parent = Slider
                    Title_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    Title_2.BackgroundTransparency = 1.000
                    Title_2.Position = UDim2.new(0.0181086548, 0, 0.0500000007, 0)
                    Title_2.Size = UDim2.new(0.222422868, 0, 0, 35)
                    Title_2.Font = Enum.Font.GothamBold
                    Title_2.Text = Name;
                    Title_2.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Title_2.TextSize = 14.000
                    Title_2.TextXAlignment = Enum.TextXAlignment.Left

                    Plus.Name = "Plus"
                    Plus.Parent = Slider
                    Plus.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Plus.BackgroundTransparency = 1.000
                    Plus.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    Plus.BorderSizePixel = 0
                    Plus.Position = UDim2.new(0.829999983, 0, 0.349999994, 0)
                    Plus.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                    Plus.AutoButtonColor = false
                    Plus.Font = Enum.Font.GothamBold
                    Plus.Text = "+"
                    Plus.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Plus.TextSize = 16.000

                    if Header then 
                        
                        local Slider = Instance.new("Frame")
                        local UICorner_4 = Instance.new("UICorner")
                        local Title_2 = Instance.new("TextLabel")
                        Slider.Name = "Slider"
                        Slider.Parent = Frame_2
                        Slider.AnchorPoint = Vector2.new(0.5, 0.5)
                        Slider.BackgroundColor3 = Color3.fromRGB(10,10, 10)
                        Slider.BorderSizePixel = 0
                        Slider.Position = UDim2.new(0.507896185, 0, 0.277372628, 0)
                        Slider.Size = UDim2.new(1, 0, 0, 25)
                        UICorner_4.Parent = Slider

                        Title_2.Name = "Title"
                        Title_2.Parent = Slider
                        Title_2.AnchorPoint = Vector2.new(0.5, 0.5)
                        Title_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        Title_2.BackgroundTransparency = 1.000
                        Title_2.Position = UDim2.new(0.5, 0, 0.5, 0)
                        Title_2.Size = UDim2.new(0.222422868, 0, 0, 35)
                        Title_2.Font = Enum.Font.GothamBold
                        Title_2.Text = '';
                        Title_2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Title_2.TextSize = 14.000
                        Title_2.TextXAlignment = Enum.TextXAlignment.Center
                        Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,27)
                        function SliderTable:UpdateHeader(Text)
                            Title_2.Text=Text;
                        end;
                    end;

                    if HelpToggled then
                        local Help = Instance.new("TextButton")

                        local HelpFrame = Instance.new("Frame")
                        HelpSections[#HelpSections+1]=Help
                        local UICorner_9 = Instance.new("UICorner")
                        local TextLabel2 = Instance.new("TextLabel")
                        HelpFrame.Parent = Frame_2
                        HelpFrame.AnchorPoint = Vector2.new(0.5, 0.5)
                        HelpFrame.BackgroundColor3 = Color3.fromRGB(15,15,15)
                        HelpFrame.BorderSizePixel = 0
                        HelpFrame.Position = UDim2.new(0.5, 0, 1, 0)
                        HelpFrame.Size = UDim2.new(0.980000019, 0, 0, 20)
                        HelpFrame.Visible=false;
                        UICorner_9.Parent=HelpFrame

                        TextLabel2.Parent = HelpFrame
                        TextLabel2.AnchorPoint = Vector2.new(0.5, 0.5)
                        TextLabel2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.BackgroundTransparency = 1
                        TextLabel2.Position = UDim2.new(0.52, 0, 0.5, 0)
                        TextLabel2.Size = UDim2.new(1, 0, 1, 0)
                        TextLabel2.ZIndex = 2
                        TextLabel2.Font = Enum.Font.GothamBold
                        TextLabel2.Text = HelpInfo or 'Describe the feature here';
                        TextLabel2.TextColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextSize = 12.000
                        TextLabel2.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
                        TextLabel2.TextWrapped = true
                        TextLabel2.TextXAlignment = Enum.TextXAlignment.Left
                        Help.Name = "Help"
                        Help.Parent = Slider
                        Help.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        Help.BackgroundTransparency = 1.000
                        Help.BorderColor3 = Color3.fromRGB(27, 42, 53)
                        Help.BorderSizePixel = 0
                        Help.Position = UDim2.new(0.955999988, 0, 0.349999994, 0)
                        Help.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                        Help.AutoButtonColor = false
                        Help.Font = Enum.Font.GothamBold
                        Help.Text = "+"
                        Help.TextColor3 = Color3.fromRGB(255, 255, 255)
                        Help.TextSize = 18.000
                        TextLabel2.TextTransparency=0;
                        local Toggled=false;
                        Help.MouseButton1Click:Connect(function()
                            Toggled=not Toggled;
                            if Toggled then 
                                HelpFrame.Size = UDim2.new(0,0,0,0)
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=135}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0.980000019, 0, 0, 20)}):Play();
                                HelpFrame.Visible=true;
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size+UDim2.new(0,0,0,27)}):Play();
                                task.wait(.15);
                                TextLabel2.TextTransparency=0;
                            else
                                TextLabel2.TextTransparency=1;
                                TweenService:Create(Help,TweenInfo.new(0.3),{Rotation=0}):Play();
                                TweenService:Create(HelpFrame,TweenInfo.new(0.3),{Size=UDim2.new(0,0,0,0)}):Play();
                                TweenService:Create(ScrollingFrame_2,TweenInfo.new(0.3),{CanvasSize=ScrollingFrame_2.CanvasSize-UDim2.new(0,0,0,30)}):Play();
                                TweenService:Create(Sections_2,TweenInfo.new(0.3),{Size=Sections_2.Size-UDim2.new(0,0,0,27)}):Play();
                                task.wait(.3)
                                HelpFrame.Visible=false
                            end;
                        end)
                    end;

                    Minus.Name = "Minus"
                    Minus.Parent = Slider
                    Minus.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Minus.BackgroundTransparency = 1.000
                    Minus.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    Minus.BorderSizePixel = 0
                    Minus.Position = UDim2.new(0.189999998, 0, 0.349999994, 0)
                    Minus.Size = UDim2.new(0.0458574817, 0, 0.300000012, 0)
                    Minus.AutoButtonColor = false
                    Minus.Font = Enum.Font.GothamBold
                    Minus.Text = "-"
                    Minus.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Minus.TextSize = 16.000

                    Input.Name = "Input"
                    Input.Parent = Slider
                    Input.AnchorPoint = Vector2.new(0.5, 0.5)
                    Input.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Input.Position = UDim2.new(0.911233585, 0, 0.5, 0)
                    Input.Size = UDim2.new(0.087533094, 0, 0.5, 0)
                    Input.Font = Enum.Font.GothamBold
                    Input.Text = Min
                    Input.TextColor3 = Color3.fromRGB(255, 255, 255)
                    Input.TextSize = 14.000

                    UICorner_5.Parent = Input

                    Background.Name = "Background"
                    Background.Parent = Slider
                    Background.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                    Background.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    Background.BorderSizePixel = 0
                    Background.Position = UDim2.new(0.230000004, 0, 0.349999994, 0)
                    Background.Size = UDim2.new(0.600000024, 0, 0.300000012, 0)
                    Background.AutoButtonColor = false
                    Background.Font = Enum.Font.SourceSans
                    Background.Text = ""
                    Background.TextColor3 = Color3.fromRGB(0, 0, 0)
                    Background.TextSize = 14.000

                    MainSlider.Name = "MainSlider"
                    MainSlider.AnchorPoint=Vector2.new(0,.5)
                    MainSlider.Parent = Background
                    MainSlider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                    MainSlider.BorderColor3 = Color3.fromRGB(27, 42, 53)
                    MainSlider.BorderSizePixel = 0
                    MainSlider.Position = UDim2.new(0, 0, .5, 0)
                    MainSlider.Size = UDim2.new(0, 0, 1, 0)
                    MainSlider.ZIndex = 2
                    MainSlider.AutoButtonColor = false
                    MainSlider.Font = Enum.Font.SourceSans
                    MainSlider.Text = ""
                    MainSlider.TextColor3 = Color3.fromRGB(0, 0, 0)
                    MainSlider.TextSize = 14.000

                    UICorner_6.Parent = MainSlider

                    UICorner_7.Parent = Background
                    Sections_2.Size=Sections_2.Size+UDim2.new(0,0,0,47)
                    ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,51)

                    local LastSaved= Min or '100';
                    task.spawn(function()
                        while task.wait()do
                            if #Input.Text==4 then 
                                Input.Text=''
                            end;
                            Input.Size=UDim2.new(0,(#Input.Text<=1 and 25)or #Input.Text*14.5, .5, 0);
                        end; 
                    end);
        
                    local Mouse=game.Players.LocalPlayer:GetMouse();
        
                    local function Set(Value,Slower)
                        task.spawn(function()
                            if Slower then
                                Speed=.2;
                            else
                                Speed=0.04;
                            end;
                            if not Value or not typeof(Value)=='number'then return end;
                            if Value>Max then 
                                Value=Max;
                            end;
                            if Value<Min then 
                                Value=Min;
                            end;
                            if Value==Min then 
                                TweenService:Create(MainSlider,TweenInfo.new(Speed),{Size=UDim2.new(0, 0, 1, 0)}):Play();
                            else
                                TweenService:Create(MainSlider,TweenInfo.new(Speed),{Size=UDim2.new((Value/Max), 0, 1, 0)}):Play()
                            end;
                            Input.Text=Value;
                            if CallBack then
                                pcall(function()
                                    CallBack(Value)
                                end);
                            end;
                            LastSaved=Value;
                        end);
                    end;
                    function SliderTable:Set(Value)
                        Set(Value,true)
                    end;
                    Minus.MouseButton1Down:Connect(function()
                        task.spawn(function()
                            TweenService:Create(Minus,TweenInfo.new(.1),{TextSize=0}):Play();
                            task.wait(0.05);
                            TweenService:Create(Minus,TweenInfo.new(0.1),{TextSize=22}):Play();
                        end);
                        Set(tonumber(Input.Text)-1,true)
                    end)
                    Plus.MouseButton1Down:Connect(function()
                        task.spawn(function()
                            TweenService:Create(Plus,TweenInfo.new(.1),{TextSize=0}):Play();
                            task.wait(0.05);
                            TweenService:Create(Plus,TweenInfo.new(0.1),{TextSize=18}):Play();
                        end);
                        Set(tonumber(Input.Text)+1,true)
                    end);
                    if Default then 
                        Set(Default);
                    end;
                    Input.FocusLost:Connect(function()
                        if Input.Text==''or not tonumber(Input.Text)then
                            Input.Text=LastSaved;
                            return
                        end
                        Set(tonumber(Input.Text),true)
                    end);
                    local Mouse=game.Players.LocalPlayer:GetMouse();
                    function func()
                        local connection=game:GetService("RunService").RenderStepped:Connect(function()
                            local Scale=math.clamp(Mouse.X -Background.AbsolutePosition.X,0,Background.AbsoluteSize.X) / Background.AbsoluteSize.X
                            slidervalue=math.floor(Min + ((Max-Min) * Scale))
                            Input.Text = tostring(slidervalue)
                            TweenService:Create(MainSlider,TweenInfo.new(0.04),{Size=UDim2.new(Scale,0,1,0)}):Play()
                            if CallBack then
                                CallBack(slidervalue)
                            end
                        end)
                        game:GetService'UserInputService'.InputEnded:Connect(function(i)
                            if i.UserInputType == Enum.UserInputType.MouseButton1 then
                                if connection then
                                    connection:Disconnect()
                                    connection = nil
                                end
                            end
                        end)
                    end;
                    Background.MouseButton1Down:Connect(func);
                    MainSlider.MouseButton1Down:Connect(func);
                    return SliderTable;
                end;
                return Elements;
            end;
            return Elements
        end;
        return Tab
    end;
    ImageButton_2.Parent = Categories
    ImageButton_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ImageButton_2.BackgroundTransparency = 1.000
    ImageButton_2.BorderSizePixel = 0
    ImageButton_2.Position = UDim2.new(0, 0, 0,-30)
    ImageButton_2.Size = UDim2.new(1, 0, 0.4, 0)
    ImageButton_2.AutoButtonColor = false
    ImageButton_2.Image = "rbxassetid://8763218316"
    ImageButton_2.ImageColor3 = Color3.fromRGB(0, 122, 255)


    local SearchFrame = Instance.new("ScrollingFrame")
    local UIListLayout_99 = Instance.new("UIListLayout")

    SearchFrame.Parent = Sections
    SearchFrame.Active = true
    SearchFrame.Visible=    false;
    SearchFrame.Name='Search'
    SearchFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    SearchFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    SearchFrame.BackgroundTransparency = 1
    SearchFrame.Position = UDim2.new(0.615, 0, 0.5, 0)
    SearchFrame.Size = UDim2.new(0.709999979, 0, 0.949999988, 0)
    SearchFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
    SearchFrame.BorderSizePixel=0;
    SearchFrame.ScrollBarThickness=0;
    SearchFrame.ScrollBarImageColor3=Color3.fromRGB(255,255,255)

    -- ScrollingFrame_2.CanvasSize=ScrollingFrame_2.CanvasSize+UDim2.new(0,0,0,40)
    local Frame_2 = Instance.new("Frame")
    local Title = Instance.new("TextLabel")
    local Sections_2 = Instance.new("Frame")
    local UICorner_3 = Instance.new("UICorner")
    local UIListLayout_3 = Instance.new("UIListLayout")
    Sections_2.Name = "Sections"
    Sections_2.Parent = SearchFrame
    Sections_2.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Sections_2.Size = UDim2.new(0.996447325, 0, 0, 0)
    
    UICorner_3.Parent = Sections_2
    Frame_2.Parent = Sections_2
    Frame_2.AnchorPoint = Vector2.new(0.5, 0.5)
    Frame_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Frame_2.BackgroundTransparency = 0
    Frame_2.Position = UDim2.new(0.5, 0, 0.5, 0)
    Frame_2.Size = UDim2.new(0.971540928, 0, 1, 0)
    UIListLayout_3.Parent = Frame_2
    UIListLayout_3.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout_3.Padding = UDim.new(0, 5)

    UIListLayout_99.Parent = SearchFrame
    UIListLayout_99.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout_99.Padding = UDim.new(0.0199999996, 0)


    -- TextBox.Parent = Categories
    -- TextBox.AnchorPoint = Vector2.new(0.5, 0.5)
    -- TextBox.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    -- TextBox.Position = UDim2.new(0.5, 0, 0.259999999, 0)
    -- TextBox.Size = UDim2.new(0.800000012, 0, 0.0399999991, 0)
    -- TextBox.Font = Enum.Font.GothamBold
    -- TextBox.Text = "Search..."
    -- TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    -- TextBox.TextSize = 12.000
    -- local OldParents={};
    local function Close()
        if TextBox.Text==''then 
            OldParents={};
            TextBox.Text='Search...';
            CurrentTab.Visible=true;
            for i,v in next,OldParents do 
                i.Parent=v;
            end;
            return;
        end;
    end;
    local function Search()
        -- if TextBox.Text==''then return end
        -- for i,v in next,game.CoreGui.Ancestor.MainFrame.Sections:GetDescendants()do 
        --     if v:IsA'TextButton'or v:IsA'TextLabel'and tostring(v.Parent)~='Frame'then 
        --         if v.Text~=' 'and v.Text~=''and v.Text~='+'and v.Text~='-'then
        --             if string.find(v.Text:lower(),TextBox.Text:lower())then
        --                 CurrentTab.Visible=false;
        --                 v.Visible=true;
        --                 SearchFrame.Visible=true;
        --                 OldParents[v.Parent.Parent]=v.Parent;
        --                 v.Parent.Parent=Frame_2;
        --             else
        --                 v.Visible=false;
        --                 SearchFrame.Visible=false;
        --             end;
        --         end;
        --     end;
        -- end;
    end;
    TextBox:GetPropertyChangedSignal'Text':Connect(Search)
    TextBox.FocusLost:Connect(Close)

    UICorner.Parent = TextBox

    UICorner_2.Parent = Categories
    UICorner_2.CornerRadius=UDim.new(0,6)
    return AncestorFunctions;
end;

local Key={...};
local Password=Key[1];
local DeveloperMode=Key[1]==nil;
setmetatable(Key,{__index=function()if DeveloperMode then return '';end;end;});--> None loadstring Executions Activate DeveloperMode.

-->Init
local Start,Is_Client_Loaded=os.time(),false,nil;
local Ancestor,Connections,GUISettings,CurrentVersion,Ancestor_Loaded={MoneyDuping=false,DupeAxeBeforeModerationAction=false,ModerationAction='Kill',PlayerToModerate=game.Players.LocalPlayer,BaseToDupe=1,SelectedTreeType='Generic',BringTreeAmount=1},{},{NewDonateBase=false,Spook=false,WalkSpeed=16,JumpPower=50,HipHeight=0,SprintSpeed=20,FOV=70,SelectedPlot=1,InfiniteJump=false,SelectedDropType='Both',Light=false,SprintKey='LeftShift',NoclipKey='LeftControl',KeyTP='G',FastCheckout=false,FixCashierRange=false,HardDragger=false,AxeRangeActive=false,AxeSwingActive=false,FlyKey='F',WaterWalk=false,WaterFloat=true,FlySprintSpeed=10,AlwaysDay=false,AlwaysNight=false,NoFog=false,DisableSaving=true,AxeSwing=0,AxeRange=0,FastDeloader=true,IsClientFlying=false,Fling=false,FlySpeed=50,ActivateCarModifications=false,CarSpeed=1,CarPitch=1,AlertShutdown=false,AntiAFK=false},'v2.0.6b',true;

-->GUI Main Function Variables
local DupeMoneyQuantity,AutobuyAmount,AutobuySelectedItem=1,1,'BasicHatchet';

-->Optimisation Shit 
local RepStore,RunService,UIS,Players,Lighting,ScriptContext,PerformanceStats,TeleportService,HttpService,MarketplaceService,VirtualUser=game:GetService'ReplicatedStorage',game:GetService'RunService',game:GetService'UserInputService',game:GetService'Players',game:GetService'Lighting',game:GetService'ScriptContext',game:GetService'Stats'.PerformanceStats,game:GetService'TeleportService',game:GetService'HttpService',game:GetService'MarketplaceService',game:GetService'VirtualUser';
local LP,StarterGui=Players.LocalPlayer,game.StarterGui;
local C_R,C_C,R_Module,hook_func,fwait,tdelay,lstring,Mouse,Stepped,cframe,vector3,wrkspc,gs,tstring,xp_call,p_call,instance,Heartbeat,Character,MFloor,gc,setthreadidentity=coroutine.resume,coroutine.create,require,hookfunction,task.wait,task.delay,loadstring,LP:GetMouse(),RunService.Stepped,CFrame,Vector3,workspace,getsenv,tostring,xpcall,pcall,Instance,RunService.Heartbeat,LP.Character,math.floor,(Executor~='Arceus'and getconnections)or function()warn'Executor Doesn\'t Have GetConnections'end,set_thread_identity or setidentity or setthreadcontext or syn.set_thread_identity;
local AxeNameLabel,AxeRangeLabel,AxeCooldownLabel;
repeat Stepped:wait()until game:IsLoaded()and LP.PlayerGui:FindFirstChild'OnboardingGUI' and LP.PlayerGui.OnboardingGUI.DoOnboarding.Loaded.Value

-->Game script environments
local PropertyPurchasingClient,CharacterFloat,ClientBeBlacklisted,DonateClient,ObjectInteractionClient,UserInput,NPCChattingClient,LoadSaveClient,NoticeClient=gs(LP.PlayerGui.PropertyPurchasingGUI.PropertyPurchasingClient),gs(LP.PlayerGui.Scripts.CharacterFloat),gs(LP.PlayerGui.BlackListGUI.ClientBeBlacklisted),gs(LP.PlayerGui.DonateGUI.DonateClient),gs(LP.PlayerGui.InteractionGUI.ObjectInteractionClient),R_Module(LP.PlayerGui.Scripts.UserInput),gs(LP.PlayerGui.ChatGUI.NPCChattingClient),gs(LP.PlayerGui.LoadSaveGUI.LoadSaveClient),gs(LP.PlayerGui.NoticeGUI.NoticeClient);

-->Old game functions
local CharacterFloatOld,oldWalls,oldClientBeKicked=CharacterFloat.isInWater,ClientBeBlacklisted.makeWalls,ClientBeBlacklisted.checkIfPlayerNeedsToBeKicked;

local ChatUI=LP.PlayerGui.ChatGUI.Chat;
local whitelistedPlots={'68, 0, -189, 1, 0, 0, 0, 1, 0, 0, 0, 1','275, 0, -512, 1, 0, 0, 0, 1, 0, 0, 0, 1','383, 0, -250, 1, 0, 0, 0, 1, 0, 0, 0, 1'};

-->Remotes
local Client_May_Load,Donate,Request_Load,Request_Save,GetMetaData,ClientPurchasedProperty,ClientExpandedProperty,ClientRequestOwnership,ClientIsDragging,TestPing,PlayerChatted,SendUserNotice,ClientSetListPlayer,DestroyStructure,ClientInteracted,ClientPlacedBlueprint,ClientPlacedStructure,RemoteProxy,WipeMetaData,SayMessageRequest,ClientIsWhitelisted=RepStore.LoadSaveRequests.ClientMayLoad,RepStore.Transactions.ClientToServer.Donate,RepStore.LoadSaveRequests.RequestLoad,RepStore.LoadSaveRequests.RequestSave,RepStore.LoadSaveRequests.GetMetaData,RepStore.PropertyPurchasing.ClientPurchasedProperty,RepStore.PropertyPurchasing.ClientExpandedProperty,RepStore.Interaction.ClientRequestOwnership,RepStore.Interaction.ClientIsDragging,RepStore.TestPing,RepStore.NPCDialog.PlayerChatted,RepStore.Notices.SendUserNotice,RepStore.Interaction.ClientSetListPlayer,RepStore.Interaction.DestroyStructure,RepStore.Interaction.ClientInteracted,RepStore.PlaceStructure.ClientPlacedBlueprint,RepStore.PlaceStructure.ClientPlacedStructure,RepStore.Interaction.RemoteProxy,RepStore.LoadSaveRequests.WipeMetaData,RepStore.DefaultChatSystemChatEvents.SayMessageRequest,RepStore.Interaction.ClientIsWhitelisted;
local Plots,StoreChildren=wrkspc.Properties:GetChildren(),wrkspc.Stores:GetChildren();
local AxeFolder=RepStore.AxeClasses

-->Load freeze bug fix
local BumpModule=R_Module(LP.PlayerGui.BumpButton);
BumpModule.Bump=function()return true;end;

--> Fixes Reloading With Disable Saving Enabled
if Executor~='Arceus'then
    setupvalue(LoadSaveClient.loadSlot,12,true);
end;

--Fixed Random 'false' Notices
Connections[#Connections+1]={Name='FalseFix',Function=Stepped:Connect(function()
    if LP.PlayerGui.NoticeGUI.Notice.Main.TextLabel.Text=='false'then 
        LP.PlayerGui.NoticeGUI.Notice.Visible=false;
    end;
end)};

-->Re-Execution Dependancies
getgenv().BaseDuping=false;
if not getgenv().OldSelectLoad and Executor~='Arceus'then
    local gc=getgc(true);
    for i=1,#gc do 
        local Function=gc[i];
        if typeof(Function)=='function'and tstring(getfenv(Function).script)=='PropertyPurchasingClient'then 
            if tstring(getinfo(Function).name)=='OnClientInvoke'then
                getgenv().OldSelectLoad=Function;
            end;
        end;
    end;
end;

if not pcall(function()readfile('AncestorV2Configuration.cfg')end)then 
    writefile('AncestorV2Configuration.cfg',HttpService:JSONEncode(GUISettings));
end;

GUISettings=(Executor~='Arceus'and HttpService:JSONDecode(readfile('AncestorV2Configuration.cfg')))or GUISettings;
PlayerDropType=GUISettings.SelectedDropType;
local CashiersAutobuy={};
local CashierIDConnection=RepStore.NPCDialog.PromptChat.OnClientEvent:Connect(function(_,Cashier)
    if CashiersAutobuy[Cashier.Name]==nil then
    	CashiersAutobuy[Cashier.Name]=Cashier.ID;
    end;
end);
C_R(C_C(function()
    RepStore.NPCDialog.SetChattingValue:InvokeServer(1);
    repeat Stepped:wait()until CashiersAutobuy["Hoover"]~=nil;
    CashierIDConnection:Disconnect()CashierIDConnection=nil;
    RepStore.NPCDialog.SetChattingValue:InvokeServer(0);
end));

function Ancestor:Set(SlotNumber)
    if Executor~='Arceus'then
        local LoadPass=getupvalue(LoadSaveClient.saveSlot,12);
        LP.CurrentSaveSlot.Set:Invoke(SlotNumber,LoadPass);
    end;
end;

function Ancestor:GetModelByName(Name)
    local PlayerModels=wrkspc.PlayerModels:GetChildren();
    for i=1,#PlayerModels do 
        local Model=PlayerModels[i];
        if Model:FindFirstChild'Owner'and Model.Owner.Value==LP then 
            local ItemType=Model:FindFirstChild'ItemName';
            if ItemType and tstring(ItemType.Value)==Name then 
                return Model;
            end;
        end;
    end;
    return false;
end;

function Ancestor:SellSign()
    local Sign=Ancestor:GetModelByName('PropertySoldSign');
    local Main=Sign:FindFirstChild'Main';
    if Main.Anchored then 
        ClientInteracted:FireServer(Sign,'Take down sold sign');
    end;
    if(Main.CFrame.p-LP.Character.Head.CFrame.p).Magnitude>10 then 
        Ancestor:Teleport(cframe.new(Main.CFrame.p+vector3.new(0,2,2)));
        fwait(.3)
    end;
    repeat Stepped:wait()
        ClientIsDragging:FireServer(Sign);
        Sign:SetPrimaryPartCFrame(cframe.new(315,3,85));
    until tstring(Sign.Parent)~='PlayerModels';
end;

function Ancestor:MuteSound()
    repeat Stepped:wait()until LP.Character and LP.Character:FindFirstChild'Head';
    Character=LP.Character;
    LP.Character.Head.ChildAdded:Connect(function(Child)
        if tstring(Child)=='DestroyStructure'then 
            Child.Volume=0;
        end;
    end);
end;Ancestor:MuteSound();
LP.CharacterAdded:Connect(Ancestor.MuteSound);

Connections[#Connections+1]={Name='FlyBegan',Function=UIS.InputBegan:Connect(function(Key,Processed)
    if not Processed and Key.KeyCode==Enum.KeyCode[GUISettings.FlyKey]then 
        GUISettings.IsClientFlying=not GUISettings.IsClientFlying;
        if GUISettings.IsClientFlying then 
            Ancestor:Fly();
        end;
    elseif not Processed and Key.KeyCode==Enum.KeyCode[GUISettings.NoclipKey]then 
        GUISettings.Noclip=not GUISettings.Noclip;
    end;
end)};

function Ancestor:GetFlySpeed()
    local Frame=game.CoreGui.Ancestor.MainFrame.Sections['Client Options'].Sections.Frame:GetChildren();
    for i=1,#Frame do 
        local FlySpeed=Frame[i]; 
        if FlySpeed:FindFirstChild'Title'and tostring(FlySpeed.Title.Text)=='Fly Speed'then 
            return tonumber(FlySpeed.Input.Text);
        end;
    end;
end;


-->Antikick 
lstring([[
local Args={...};
local LP,GUISettings,Ancestor_Loaded=Args[1],Args[2],Args[3];
local Antikick;
Antikick=hookmetamethod(game,'__namecall',function(...)
    if Ancestor_Loaded then
        local Method=getnamecallmethod()
        if Method=='Kick'and ...==LP then
            return;
        end;
        if Method=='InvokeServer'and tostring(...)=='RequestSave'and not GUISettings.DisableSaving then 
            return false;
        end;setnamecallmethod(Method)
    end;
    return Antikick(...);
end)]])(LP,GUISettings,Ancestor_Loaded);

lstring([[
local Args={...};
local Connections,Lighting,p_call=Args[3],Args[5],Args[6];
local LP,GUISettings,UIS,Stepped,Ancestor=Args[8],Args[1],Args[4],Args[2],Args[7];
Connections[#Connections+1]={Name='InfiniteJump',Function=UIS.JumpRequest:Connect(function()
    if GUISettings.InfiniteJump then
        LP.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping);
    end;
end)};
Connections[#Connections+1]={Name='Main',Function=Stepped:Connect(function()
    WalkSpeed=GUISettings.WalkSpeed;
    if UIS:IsKeyDown(Enum.KeyCode[GUISettings.SprintKey])then
        WalkSpeed=GUISettings.WalkSpeed+GUISettings.SprintSpeed;
        if GUISettings.IsClientFlying then 
            GUISettings.FlySpeed=Ancestor:GetFlySpeed()+GUISettings.SprintSpeed;
        end;
    elseif not UIS:IsKeyDown(Enum.KeyCode[GUISettings.SprintKey])and GUISettings.IsClientFlying then 
        GUISettings.FlySpeed=Ancestor:GetFlySpeed()
    end;
    if LP.Character and LP.Character:FindFirstChild'Humanoid'and GUISettings.ActivateCarModifications then 
        if LP.Character.Humanoid.SeatPart and LP.Character.Humanoid.SeatPart.Parent:FindFirstChild'Configuration'then 
            LP.Character.Humanoid.SeatPart.Parent.Configuration.MaxSpeed.Value=GUISettings.CarSpeed;
            LP.Character.Humanoid.SeatPart.Parent.RunSounds:FireServer('Set Pitch',GUISettings.CarPitch);
        end;
    end;
    if GUISettings.Noclip then 
        for i,v in next,LP.Character:GetChildren()do 
            if v:IsA'BasePart'then 
                v.CanCollide=false;
            end;
        end;
    end;
    if GUISettings.AlwaysDay then
        Lighting.TimeOfDay='12:00:00';
    elseif GUISettings.AlwaysNight then
        Lighting.TimeOfDay='2:00:00';
    end;
    if GUISettings.NoFog then 
        Lighting.FogEnd=1000000;
    end;
    p_call(function()
        LP.Character.Humanoid.WalkSpeed=WalkSpeed;
        LP.Character.Humanoid.JumpPower=GUISettings.JumpPower;
        LP.Character.Humanoid.HipHeight=GUISettings.HipHeight;
    end);
end)}]])(GUISettings,Stepped,Connections,UIS,Lighting,p_call,Ancestor,LP);

--> Future Feature
-- lstring([[
-- local InteractionRange;
-- local LP=LP;
-- local Mouse=LP:GetMouse();
-- local Character=LP.Character;
-- local Head=Character.Head;
-- InteractionRange=hookmetamethod(game,'__index',function(self,key)
--     if self==Head and key=='Position'and not workspace:FindFirstChild'Dragger'then
--         return Mouse.hit.p;
--     end;
--     return InteractionRange(self,key);
-- end);]])();

function Ancestor:Notify(title, text, duration)
    if Ancestor_Loaded then 
        StarterGui:SetCore('SendNotification',{Title=title,Text=text,Duration=duration});
    end;
end;

if not isfile('AncestorSlotNames.cfg')then 
    local DefaultSlotNames={};
    DefaultSlotNames[LP.Name]={Slot1='Slot 1',Slot2='Slot 2',Slot3='Slot 3',Slot4='Slot 4',Slot5='Slot 5',Slot6='Slot 6'};
    writefile('AncestorSlotNames.cfg',HttpService:JSONEncode(DefaultSlotNames));
end;

local AncestorSlotNames=HttpService:JSONDecode(readfile('AncestorSlotNames.cfg'));
local DoesPlayerExist=AncestorSlotNames[tstring(LP.Name)]~=nil;

if not DoesPlayerExist then 
    local DefaultSlotNames={};
    DefaultSlotNames={Slot1='Slot 1',Slot2='Slot 2',Slot3='Slot 3',Slot4='Slot 4',Slot5='Slot 5',Slot6='Slot 6'};
    local SlotNamesOld=HttpService:JSONDecode(readfile('AncestorSlotNames.cfg'));
    SlotNamesOld[tstring(LP.Name)]=DefaultSlotNames
    writefile('AncestorSlotNames.cfg',HttpService:JSONEncode(SlotNamesOld));
end;

local Slots=HttpService:JSONDecode(readfile('AncestorSlotNames.cfg'))
local SlotNames=Slots[tstring(LP.Name)];

function Ancestor:SaveSlotNames()
    local SlotNamesOld=HttpService:JSONDecode(readfile('AncestorSlotNames.cfg'));
    SlotNamesOld[tstring(LP.Name)]=nil;
    SlotNamesOld[tstring(LP.Name)]=SlotNames
    writefile('AncestorSlotNames.cfg',HttpService:JSONEncode(SlotNamesOld));
    SendUserNotice:Fire'Saved Slot Names';
end;

function Ancestor:SaveConfigurationFile()writefile('AncestorV2Configuration.cfg',HttpService:JSONEncode(GUISettings));SendUserNotice:Fire'Saved Configuration File!';end;

function Ancestor:DeleteConfigurationFile()delfile('AncestorV2Configuration.cfg');SendUserNotice:Fire'Deleted Configuration File!';end;

-->CS Antiban
gs(LP.PlayerGui.LoadSaveGUI.LoadSaveClient.LocalScript).ban=function()return Ancestor:Notify('Ancestor','Ban Blocked')end;p_call(function()RepStore.Interaction.Ban:Destroy()warn'Antiban Loaded'end);

--Function Library
function Ancestor:DoesSaveExist(Slot)
    local Data=GetMetaData:InvokeServer(LP);
    for i=1,#Data do
        if i==Slot and Data[i].SaveMeta[#Data[i].SaveMeta] then
            local Datasize=Data[i].SaveMeta[#Data[i].SaveMeta].NumKeys;
            if Datasize>5 or MFloor(PerformanceStats.Ping:GetValue())>250 then 
                SendUserNotice:Fire('Loading may take some time at this moment. be patient...');
            end;
            return Datasize;
        end;
    end;Ancestor:Notify('Ancestor','No Data Found For Slot '..tstring(Slot));
end;


function Ancestor:GetPlayersSlotInfo(Client)
    local Data=GetMetaData:InvokeServer(Players[tstring(Client)]);
    local Info={};
    for i=1,#Data do
        if Data[i].SaveMeta[#Data[i].SaveMeta]then
            local Datasize=Data[i].SaveMeta[#Data[i].SaveMeta].NumKeys;
            Info[#Info+1]=Datasize;
        end;
    end;
    return Info;
end;

function Ancestor:GetCashiers()
    local CashierList={};
    local Stores=workspace.Stores:GetChildren()
    for i=1,#Stores do 
        local Store=Stores[i];
        local Cashiers=Store:GetChildren();
        for i=1,#Cashiers do 
            local Cashier=Cashiers[i]
            if Cashier:FindFirstChild'Head'then 
                CashierList[#CashierList+1]=Cashier
            end;
        end;
    end;
   return CashierList;
end;

function Ancestor:GetCashierInfo(item)
    local Cashiers=Ancestor:GetCashiers()
    local Max,NearestCashier=9e9,nil;
    for i=1,#Cashiers do 
        local Cashier=Cashiers[i];
        if(item.Main.CFrame.p-Cashier.Head.CFrame.p).Magnitude<Max then 
            NearestCashier=Cashier;
            Max=(LP.Character.Head.CFrame.p-Cashier.Head.CFrame.p).Magnitude;
        end;
    end;
    return tstring(NearestCashier),CashiersAutobuy[tstring(NearestCashier)]
end;

function Ancestor:BuyItem(item)
    local Cashier,CashierID=Ancestor:GetCashierInfo(item);
    if Cashier and CashierID then PlayerChatted:InvokeServer({Character=Cashier,Name=Cashier,ID=CashierID},'ConfirmPurchase');end;
end;

function Ancestor:AntiAFK(state)
    if Executor=='Arceus'or Executor=='Krnl'then return;end;
    local AntiAFK=gc(LP.Idled)[1];
    if state then 
	    AntiAFK:Disable();
    else
        AntiAFK:Enable();
    end;
end;    

function Ancestor:GetItemInfo(SelectedItem,Type)
    local Paths={game.ReplicatedStorage.ClientItemInfo}
    for i=1,#Paths do 
        local Folder=Paths[i]:GetChildren();
        for i=1,#Folder do 
            local Item=Folder[i];
            local ItemName=Item:FindFirstChild'ItemName';
            if Type=='Name'then
                if ItemName and ItemName.Value..' '==tstring(SelectedItem):split('-')[1] then 
                    AutobuySelectedItem=tstring(Item)
                    return tstring(Item);
                end;
            end;
            if Type=='Price'then 
                if tstring(Item)==tstring(SelectedItem)then 
                    return tonumber(Item.Price.Value)*AutobuyAmount;
                end;
            end;
        end;
    end;
    return false;
end;

function Ancestor:GetStoreItems()
    return{'Basic Hatchet - $12','Rukiryaxe - $7400','Smooth Wall Stub - $80','2 / 4 Wedge - $80','Straight Conveyor Switch Left - $480','Chop Saw - $12200','2 / 2 Wedge - $80','1 / 1 Wedge - $80','Smooth Wall - $80','Wood Sweeper - $430','Conveyor Supports - $12','Turn Conveyor Supports - $20','Tight Turn Conveyor - $100','Steep Stairs - $80','Stairs - $80','Ladder - $80','Hardened Axe - $550','Lever - $520','Utility Vehicle - $400','Wire - $205','Button - $320','Plain Axe - $90','Pressure Plate - $640','Switch Conveyor - $320','Smooth Wall Corner Stub - $80','Corrugate Wall Stub - $80','Corrugated Wall Corner Stub - $80','Mundane Chair - $80','Square Table - $80','Long Table - $80','Basic Door - $80','Fat Door - $80','Half Door - $80','1 / 2 x 1 Wedge - $80','1 / 2 Wedge - $80','Sawmax 01 - $11000','Sawmax 02 - $22500','Tilted Conveyor - $95','Straight Conveyor - $80','2 / 4 x 1 Wedge - $80','4 / 4 Wedge - $80','3 / 4 Wedge - $80','3 / 4 x 1 Wedge - $80','1 / 4 x 1 Wedge - $80','Silver Axe - $2040','Smooth Wall Corner - $80','Corrugated Wall - $80','Fence - $80','Fence Corner - $80','Straight Conveyor Switch Right - $480','Steel Axe - $190','4 / 4 x 1 Wedge - $80','1 / 3 Wedge - $80','3 / 3 Wedge - $80','2 / 3 x 1 Wedge - $80','2 / 3 Wedge - $80','Bag of Sand - $1600','2 / 2 x 1 Wedge - $80','3 / 3 x 1 Wedge - $80','Work Light - $80','1 / 3 x 1 Wedge - $80','Shabby Sawmill - $130','Fair Sawmill - $1600','Sawmax 02L - $86500','1 / 4 Wedge - $80','Funnel Conveyor - $60','Short Fence Corner - $80','Short Fence - $80','Short Smooth Wall - $80','Short Corrugated Wall - $80','Short Smooth Wall Corner - $80','Tiny Floor - $80','Floor - $80','Large Floor - $80','Short Corrugated Wall Corner - $80','Small Floor - $80','Small Tile - $80','Corrugated Wall Corner - $80','Large Tile - $80','Tile - $80','Tiny Tile - $80','Post - $80','1 / 1 x 1 Wedge - $80','Dynamite - $220','Can of Worms - $3200','Title Unknown - $5980','Disturbed Painting - $2006','Outdoor Watercolor Sketch - $6','Arctic Light - $16000','Gloomy Seascape at Dusk - $16800','Pineapple - $2406000','The Lonely Giraffe - $26800','Orange Neon Wire - $720','Yellow Neon Wire - $720','White Neon Wire - $720','Violet Neon Wire - $720','Red Neon Wire - $720','Cyan Neon Wire - $720','Blue Neon Wire - $720','Clock Switch - $902','Signal Sustain - $520','AND Gate - $260','XOR Gate - $260','Wood Detector - $11300','OR Gate - $260','Signal Delay - $520','Signal Inverter - $200','Laser - $11300','Laser Detector - $3200','Hatch - $830','Green Neon Wire - $720','531 Hauler - $13000','Val\'s All-Purpose Hauler - $19000','Utility Vehicle XL - $5000','Small Trailer - $1800','Spooky Icicle Lights - $910','Amber Icicle Lights - $750','Small Glass Pane - $50','Light Bulb - $2600','Lamp - $90','Wall Light - $90','Basic Glass Door - $720','Floor Lamp - $110','Tiny Glass Pane - $12','Armchair - $140','Bed - $350','Red Icicle Lights - $750','Blue Icicle Lights - $750','Green Icicle Lights - $750','Firework Launcher - $7500','Toilet - $90','Couch - $320','Loveseat - $200','Bed - $250','Glass Pane - $220','Large Glass Pane - $550','Floodlight - $90','Dishwasher - $380','Stove - $340','Refrigerator - $310','Thin Countertop - $80','Countertop With Sink - $80','Countertop - $80','Wide Kitched Cabinet Corner - $80','Kitchen Cabinet Corner - $80','Kitchen Cabinet - $80','Thin Cabinet - $80'}
    -- local Paths={game:GetService("ReplicatedStorage").Purchasables.Structures.HardStructures,game:GetService("ReplicatedStorage").Purchasables.Structures.BlueprintStructures,game:GetService("ReplicatedStorage").Purchasables.Other,game:GetService("ReplicatedStorage").Purchasables.Tools.AllTools,game:GetService("ReplicatedStorage").Purchasables.WireObjects,game:GetService("ReplicatedStorage").Purchasables.Vehicles};
    -- local Items={'Basic Hatchet - $12','Rukiryaxe - $7400'};
    -- local function Check(i,StoreItem)
    --     if tstring(i)==tstring(StoreItem)then 
    --         local ItemName=i:FindFirstChild'BoxItemName'or i:FindFirstChild'ItemName';
    --         Items[#Items+1]=tstring(ItemName.Value..' - $'..i.Price.Value);
    --     end;
    -- end;
    -- for i=1,#StoreChildren do 
    --     local Store=StoreChildren[i];
    --     if tstring(Store)=='ShopItems'then
    --         local StoreItems=Store:GetChildren();
    --         for i=1,#StoreItems do 
    --             local StoreItem=StoreItems[i];
    --             for i=1,#Paths do 
    --                 local Folder=Paths[i]:GetChildren();
    --                 for i=1,#Folder do 
    --                     local Item=Folder[i];
    --                     local ItemName=Item:FindFirstChild'ItemName';
    --                     if ItemName and table.find(Items,tstring(ItemName.Value..' - $'..Item.Price.Value))==nil then 
    --                         Check(Item,StoreItem)
    --                     end;
    --                 end;
    --             end;
    --         end;
    --     end;
    -- end;
    -- return Items;
end;

--Using this method leaves the clientside checks intact
function Ancestor:Donate(Amount,Recipient)setupvalue(DonateClient.sendDonation,1,Recipient);setupvalue(DonateClient.sendDonation,3,Amount);DonateClient.sendDonation();end;

function Ancestor:GetConnection(Connection,DisconnectConnection)
    for i=1,#Connections do 
        if Connections[i].Name==Connection then 
            if DisconnectConnection then 
                Connections[i].Function:Disconnect();
                return table.remove(Connections,i);
            end;
            return Connections[i].Function;
        end;
    end;
    return false;
end;

-->Function library
function Ancestor:GetClientMoney()return LP.leaderstats.Money.Value;end;

function Ancestor:GetLoadedSlot()return LP.CurrentSaveSlot.Value;end;

function Ancestor:UpdateAxeInfo()
    if not AxeNameLabel or not AxeRangeLabel or not AxeCooldownLabel or Executor=='Arcus'then return end
    if Character:FindFirstChild'Tool'then 
        local Tool=Character:FindFirstChild'Tool';
        repeat Stepped:wait()until gc(Tool.Activated)[1]~=nil;
        local AttemptChop=gc(Tool.Activated)[1].Function;
        local Stats=getupvalues(AttemptChop)[1];
        AxeNameLabel:UpdateText('Name: '..Character.Tool.ToolName.Value);
        AxeRangeLabel:UpdateText('Range: '..tstring(Stats.Range));
        AxeCooldownLabel:UpdateText('Cooldown: '..tstring(Stats.SwingCooldown));
    else
        AxeNameLabel:UpdateText('Current Axe Not Found');
        AxeRangeLabel:UpdateText('Range: Not Currently Available');
        AxeCooldownLabel:UpdateText('Cooldown: Not Currently Available');
    end;
end;
Connections[#Connections+1]={Name='UpdateAxeEquip',Function=Stepped:Connect(function(Tool)
    p_call(function()
        Ancestor:UpdateAxeInfo();
    end);
end)}
function Ancestor:FixCashierRange(bool)
    if bool=='Disable'then 
        return Ancestor:GetConnection('FixCashierRange',true)
    end;
    local Cashiers=Ancestor:GetCashiers()
    Connections[#Connections+1]={Name='FixCashierRange',Function=Stepped:Connect(function()
        if Character and Character:FindFirstChild'Head'then
            local Min,NearestCashier=9e9,nil;
            for i=1,#Cashiers do 
                local Cashier=Cashiers[i];
                if(LP.Character.Head.CFrame.p-Cashier.Head.CFrame.p).Magnitude<Min then 
                    NearestCashier=Cashier;
                    Min=(LP.Character.Head.CFrame.p-Cashier.Head.CFrame.p).Magnitude;
                end;
            end;
            if(LP.Character.Head.CFrame.p-NearestCashier.Head.CFrame.p).Magnitude<=10 then 
                LP.PlayerGui.ChatGUI.PromptChat.PromptText.Text='Chat with '..tstring(NearestCashier)
                NPCChattingClient.setPromptVisibility(true);
            else
                NPCChattingClient.setPromptVisibility(false);
            end;
        end;
    end)};
end;

function Ancestor:CanClientLoad()
    if not Client_May_Load:InvokeServer(LP)then 
        Ancestor:Notify('Ancestor','Waiting for Load timeout. please wait...')
        repeat Stepped:wait()until Client_May_Load:InvokeServer(LP);
    end;
    return true;
end;

function Ancestor:SelfDupe()
    Ancestor:CanClientLoad();
    local Plot=Ancestor:GetPlayersBase(LP);
    Ancestor:Whitelist(LP,true)
    C_R(C_C(function()
        Ancestor:LoadSlot(Ancestor.BaseToDupe);
    end));
    Connections[#Connections+1]={Name='MaxLandSelfDupe',Function=Plot.ChildRemoved:Connect(function()
        Ancestor:GetConnection('MaxLandSelfDupe',true);
        Ancestor:Teleport(cframe.new(Plot.OriginSquare.CFrame.p+vector3.new(0,5,0)));
        repeat Stepped:wait()ClientIsDragging:FireServer(Plot)until Plot.Owner.Value==LP;
        Ancestor:MaxLand();
    end)};
end;

function Ancestor:LoadSlot(Slot) 
    if not Ancestor:DoesSaveExist(Slot)then return end;
    Ancestor:CanClientLoad();if Ancestor:GetLoadedSlot()~=-1 and not Ancestor.MoneyDuping and not GUISettings.DisableSaving then Ancestor:SaveSlot();Ancestor:FastDeload();end;
    C_R(C_C(function()Is_Client_Loaded=Request_Load:InvokeServer(Slot,LP)end));
    Connections[#Connections+1]={Name='ClientLoaded',Function=LP.CurrentlySavingOrLoading:GetPropertyChangedSignal'Value':Connect(function()
        if not LP.CurrentlySavingOrLoading.Value then
            Ancestor:GetConnection('ClientLoaded',true);
        end;
    end)};
    repeat Stepped:wait()PropertyPurchasingClient:selectionMade()until typeof(Ancestor:GetConnection'ClientLoaded')~='RBXScriptConnection';
    Ancestor:Set(Slot);
    SendUserNotice:Fire('Loaded Slot '..tstring(Ancestor:GetLoadedSlot()),1);
end;
local Properties=Workspace.Properties:GetChildren();
Connections[#Connections+1]={Name='AntiPlotLag',Function=RunService.RenderStepped:Connect(function()
    for i=1,#Properties do 
        local Property=Properties[i];
        if #Property:GetChildren()-2>24 then 
            local Squares=Property:GetChildren();
            for i=1,#Squares do 
                if #Property:GetChildren()-2==24 then break end;
                local Square=Squares[i];
                if tostring(Square)=='Square'then 
                    Square:Destroy();
                end;
            end;
        end;
    end;
end)};

function Ancestor:SaveSlot()Request_Save:InvokeServer(Ancestor:GetLoadedSlot(),LP);end;

function Ancestor:GiveBTools()if LP.Backpack:FindFirstChildOfClass'HopperBin'then return end;for i=1,4 do instance.new('HopperBin',LP.Backpack).BinType=i;end;end;

function Ancestor:Teleport(cf)
    repeat wait()until Character:FindFirstChild('HumanoidRootPart');
    xp_call(function()
        Character.Humanoid.SeatPart.Parent:SetPrimaryPartCFrame(cf*CFrame.Angles(math.rad(Character.Humanoid.SeatPart.Parent.PrimaryPart.Orientation.X),math.rad(Character.Humanoid.SeatPart.Parent.PrimaryPart.Orientation.Y),math.rad(Character.Humanoid.SeatPart.Parent.PrimaryPart.Orientation.Z)));
    end,function()
        Character:SetPrimaryPartCFrame(cf);
    end);
end;

function Ancestor:SafeSuicide()
    xp_call(function()
        Character.Head:Destroy();
    end,function()Ancestor:Notify('Ancestor','Character is already dead')end);
end;

function Ancestor:HoldToChop()
    if Executor=='Arceus'then return end;
    task.spawn(function()
        repeat fwait()until Character:FindFirstChild'Tool'; 
        local Tool=Character:FindFirstChild'Tool';
        repeat Stepped:wait()until gc(Tool.Activated)[1]~=nil;
        local AttemptChop=gc(Tool.Activated)[1].Function;
        while UIS:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do
            if Mouse.Target and Mouse.Target.Parent:FindFirstChild'TreeClass'then
                AttemptChop();
            end;
            fwait();
        end;
        self:HoldToChop();
    end);
end;Ancestor:HoldToChop();

function Ancestor:DupeMoney()
    if  not GUISettings.DisableSaving then 
         SendUserNotice:Fire'Enable Slot Saving!';
        return 
    end;
    if Ancestor.MoneyDuping then 
        SendUserNotice:Fire'Already Duping Money!';
        return;
    end;
    Ancestor.MoneyDuping=true;
    for i=1,DupeMoneyQuantity do 
        if not Ancestor.MoneyDuping then 
            SendUserNotice:Fire'Aborted Money Dupe';
            break;
        end;
        Ancestor:CanClientLoad();
        C_R(C_C(function()
            local Success=Donate:InvokeServer(LP,Ancestor:GetClientMoney(),Ancestor:GetLoadedSlot());
            if not Success then 
                Ancestor:Notify('Ancestor','Waiting for donation... please wait!');
                repeat Stepped:wait()until Donate:InvokeServer(LP,Ancestor:GetClientMoney(),Ancestor:GetLoadedSlot());
            end;
        end));
        repeat Stepped:wait()until Ancestor:GetClientMoney()==0;
        Connections[#Connections+1]={Name='DupeMoney',Function=LP.leaderstats.Money:GetPropertyChangedSignal'Value':Connect(function()
            if Ancestor:GetClientMoney()>20 then
                C_R(C_C(function()
                    for i=1,2 do 
                        Ancestor:SaveSlot();
                        fwait(2);
                    end;
                    Ancestor:GetConnection('DupeMoney',true);
                end));
                SendUserNotice:Fire('Duped Money '..tstring(i)..' Times!');
            end;
        end)};
        Ancestor:LoadSlot(Ancestor:GetLoadedSlot());
		repeat Stepped:wait()until typeof(Ancestor:GetConnection'DupeMoney')~='RBXScriptConnection';
    end;
    Ancestor.MoneyDuping=false;
end;

function Ancestor:SetAxeRange(Active,Value)
    if Executor=='Arceus'then return end;
    local Tool=Character:FindFirstChildOfClass'Tool';
    if not Tool or not AxeRangeLabel then return end;
    local AttemptChop=gc(Tool.Activated)[1].Function;
    local OldStats=getupvalues(AttemptChop);
    local NewStats=OldStats[1];
    if Active then
        NewStats.Range=Value;
    else
        NewStats.Range=R_Module(AxeFolder:FindFirstChild('AxeClass_'..tstring(Tool.ToolName.Value))).new().Range;
    end;
    AxeRangeLabel:UpdateText('Range: '..tstring(NewStats.Range));
    setupvalue(AttemptChop,1,NewStats);
end;

function Ancestor:SetSwingCooldown(Active)
    if Executor=='Arceus'then return end;
    local Tool=Character:FindFirstChildOfClass'Tool';
    if not Tool or not AxeCooldownLabel then return end;
    local AttemptChop=gc(Tool.Activated)[1].Function;
    local OldStats=getupvalues(AttemptChop);
    local NewStats=OldStats[1];
    NewStats.SwingCooldown=(Active and 0.02)or R_Module(AxeFolder:FindFirstChild('AxeClass_'..tstring(Tool.ToolName.Value))).new().SwingCooldown;
    AxeCooldownLabel:UpdateText('Cooldown: '..tstring(NewStats.SwingCooldown));
    setupvalue(AttemptChop,1,NewStats);
end;

Connections[#Connections+1]={Name='AxeModificationHandler',Function=Character.ChildAdded:Connect(function(Tool)
    if Executor=='Arceus'then return end;
    if Tool:IsA'Tool'then
        repeat Stepped:wait()until gc(Tool.Activated)[1]
        if GUISettings.AxeRangeActive then 
            Ancestor:SetAxeRange(true,GUISettings.AxeRange);
        end;
        if GUISettings.AxeSwingActive then 
            Ancestor:SetSwingCooldown(true,GUISettings.AxeSwing);
        end;
    end;
end)};
Connections[#Connections+1]={Name='EffectRemover',Function=Stepped:Connect(function(Effect)
    local Effects=wrkspc.Effects:GetChildren();
    for i=1,#Effects do 
        local Effect=Effects[i];
        if tstring(Effect)=='StructureModel'then return end;
        Effect:Destroy();
    end;
end)};

function Ancestor:GetTree()
    local workspaceChildren=workspace:GetChildren();
    for i=1,#workspaceChildren do
        if tstring(workspaceChildren[i])=='TreeRegion'then 
            local Trees=workspaceChildren[i]:GetChildren();
            for i=1,#Trees do 
                local Tree=Trees[i]
                if Tree:FindFirstChild'WoodSection'and Tree:FindFirstChild'TreeClass'and Tree.TreeClass.Value==Ancestor.SelectedTreeType and Tree.WoodSection.Size.Y>.5 and #Tree:GetChildren()>=15 and Tree.WoodSection.ID.Value==1 then 
                    SelectedTree=Tree.WoodSection
                    return SelectedTree;
                end;
            end;
        end;
    end;
end;

function Ancestor:AttemptChop(Tree)
    local Axe=Ancestor:GetBestAxe();
    if not Axe then return end
    local Hitpoint=Ancestor:GetHitPoint(Axe)
    local CutEvent=Tree.Parent:FindFirstChild'CutEvent';
    RemoteProxy:FireServer(CutEvent,{['tool']=Axe,['faceVector']=vector3.new(1,0,0),['height']=.32,['sectionId']=1,['hitPoints']=Hitpoint,['cooldown']=-14,['cuttingClass']='Axe'})
end;

function Ancestor:BringTree()
    local Tool=Ancestor:GetBestAxe()
    if not Tool then return Ancestor:Notify('Ancestor','You need an axe to use this feature!') end;
    local OldPos=Character.HumanoidRootPart.CFrame
    for i=1,Ancestor.BringTreeAmount do
        local Tree=Ancestor:GetTree();
        Character:SetPrimaryPartCFrame(cframe.new(Tree.CFrame.p+vector3.new(4,0,4)));
        Connections[#Connections+1]={Name='BringTree',Function=workspace.LogModels.ChildAdded:Connect(function(Tree)
            local Owner=Tree:WaitForChild'Owner';
            if Owner.Value==LP then 
                Tree.PrimaryPart=Tree:FindFirstChild'WoodSection';
                for i=1,10 do 
                    ClientRequestOwnership:FireServer(Tree);
                    ClientIsDragging:FireServer(Tree);
                    Tree:SetPrimaryPartCFrame(OldPos);
                    Stepped:wait();
                end;
                Ancestor:GetConnection('BringTree',true);
                SelectedTree=nil;
            end;
        end)};
        repeat Stepped:wait()Ancestor:AttemptChop(Tree)until typeof(Ancestor:GetConnection'BringTree')~='RBXScriptConnection';
    end;
    Character:SetPrimaryPartCFrame(OldPos);
end;

function Ancestor:ApplyLight()
    if not GUISettings.Light then
        if Character.Head:FindFirstChild'Ancestor'then
            return Character.Head.Ancestor:Destroy();
        end;
        return;
    end;local Light=instance.new('PointLight',Character.Head);Light.Name,Light.Range,Light.Brightness='Ancestor',150,1.7;
end;

function Ancestor:GetPlayersBase(Player)
    if not Player then Player=LP;end;
    for i=1,#Plots do 
		local Plot=Plots[i];
        if Plot.Owner.Value==Player then 
            return Plot;
		end;
    end;
    return false;
end;

function Ancestor:GetStructureColour(Structure)
    if Structure:FindFirstChild'BlueprintWoodClass'then 
        return tstring(Structure.BlueprintWoodClass.Value);
    end;
    return'nil';
end;

function Ancestor:SaveBaseToFile(plr,Name)
    local Plot=Ancestor:GetPlayersBase()
    if not Plot then 
        return SendUserNotice:Fire'Player has no plot loaded';
    end;
    local OriginCFrame,Blueprints=Plot.OriginSquare.CFrame.p,'';
    local PlayerModels=workspace.PlayerModels:GetChildren()
    for i=1,#PlayerModels do 
        local Blueprint=PlayerModels[i];
        if Blueprint:FindFirstChild'ItemName'and Blueprint:FindFirstChildOfClass'Part'and RepStore.Purchasables.Structures.BlueprintStructures:FindFirstChild(tstring(Blueprint.ItemName.Value))then 
            local MainCFrame=(Blueprint:FindFirstChild'MainCFrame'and Blueprint:FindFirstChild'MainCFrame'.Value)or Blueprint:FindFirstChild'BuildDependentWood'.CFrame
            BlueprintType,BlueprintWoodClass=Blueprint.ItemName.Value,Ancestor:GetStructureColour(Blueprint);
            Blueprints=Blueprints..''..BlueprintType..'&'..tstring(MainCFrame-OriginCFrame)..'&'..BlueprintWoodClass..'[Ancestor]';
        end;
    end;
    writefile(Name..'.AncestorV2',Blueprints)
    SendUserNotice:Fire('Saved Base!')
end;

function Ancestor:LoadBaseFromFile(File)
    if not isfile(File..'.AncestorV2')then 
       return SendUserNotice:Fire('File does not exist');
    end;
    if not Ancestor:GetPlayersBase() then 
        return SendUserNotice:Fire('Player has no plot loaded!');
    end;
    local PlotToBuildOn=Ancestor:GetPlayersBase().OriginSquare.CFrame.p;
    File=readfile(File..'.AncestorV2'):split('[Ancestor]');
    local WoodClasses={};
    for i=1,#File do
        local StructurePlaced;
        local StructureFilled;
        local Structure=File[i]:split'&';
        local BlueprintType,WoodClass,BlueprintCFrame=Structure[1],Structure[3],Structure[2];
        if WoodClass and not WoodClasses[WoodClass]then
            WoodClasses[WoodClass]={Amount=0,Type=WoodClass};
        end;
        for _,WoodClass in next,WoodClasses do 
            if tstring(WoodClass.Type)==tstring(WoodClass)then 
                WoodClass.Amount=WoodClass.Amount+1;
            end;
        end;
        if BlueprintCFrame then
            local Plank;
            for _,PlankIdk in next,workspace.PlayerModels:GetChildren()do 
                if PlankIdk:FindFirstChild'TreeClass'and PlankIdk.TreeClass.Value==WoodClass and PlankIdk.Owner.Value==LP then 
                    Plank=PlankIdk;
                end;
            end;
            Blueprints=BlueprintCFrame:split(',');
            BlueprintCFrame=cframe.new(tonumber(Blueprints[1]),tonumber(Blueprints[2]),tonumber(Blueprints[3]),tonumber(Blueprints[4]),tonumber(Blueprints[5]),tonumber(Blueprints[6]),tonumber(Blueprints[7]),tonumber(Blueprints[8]),tonumber(Blueprints[9]),tonumber(Blueprints[10]),tonumber(Blueprints[11]),tonumber(Blueprints[12]));
            StructurePlaced=workspace.PlayerModels.ChildAdded:Connect(function(Structure)
                local Owner,Type,MainCF=Structure:WaitForChild('Owner',5),Structure:WaitForChild('Type',5),Structure:WaitForChild('MainCFrame',5);
                if StructurePlaced and Owner.Value==LP and Type.Value=='Structure' and tstring(MainCF.Value)==tstring(BlueprintCFrame+PlotToBuildOn)then 
                    StructurePlaced:Disconnect();StructurePlaced=nil;
                end;
            end);
            StructureFilled=workspace.PlayerModels.ChildAdded:Connect(function(Structure)
                local Owner,Type=Structure:WaitForChild('Owner',5),Structure:WaitForChild('Type',5);
                if StructureFilled and Owner.Value==LP and Type.Value=='Structure'then 
                    StructureFilled:Disconnect();StructureFilled=nil;
                    ClientPlacedStructure:FireServer(tstring(Structure.ItemName.Value),BlueprintCFrame+PlotToBuildOn,LP,Structure.BlueprintWoodClass.Value,Structure,true);
                end;
            end);
            ClientPlacedBlueprint:FireServer(BlueprintType,Plank.WoodSection.CFrame,LP);
            repeat Stepped:wait()until not StructurePlaced;
        end;
    end;
end;

local Player=game.Players.LocalPlayer
local OldCFrame=Player.Character.HumanoidRootPart.CFrame

function Ancestor:GetAxes()
    local Axes={};
    local Tools=Player.Backpack:GetChildren();
    local CharacterTools=Player.Character:GetChildren();
    for i=1,#Tools do 
        local Axe=Tools[i]
        if Axe:FindFirstChild'CuttingTool'then
            Axes[#Axes+1]=Axe;
        end;
    end;
    for i=1,#CharacterTools do 
        local Axe=CharacterTools[i]
        if Axe:FindFirstChild'CuttingTool'then
            Axes[#Axes+1]=Axe;
        end;
    end;
    return Axes
end;

function Ancestor:DoesAxeExist()
    return Ancestor:GetAxes()[1]~=nil;
end;

function Ancestor:DropTools(Position)
    local Tools=Ancestor:GetAxes();
    for i=1,#Tools do 
        local Axe=Tools[i]
        if Axe:FindFirstChild'CuttingTool'then
            Axe.Parent=LP.Character
        end;
    end;
    local Tools=LP.Character:GetChildren();
    for i=1,#Tools do 
        if tostring(Tools[i]):match'Tool'then 
            local Axe=Tools[i];
            game.ReplicatedStorage.Interaction.ClientInteracted:FireServer(Axe,'Drop tool',Position or Character.HumanoidRootPart.CFrame);
        end;
    end;
end;

function Ancestor:DupeInventory()
    if not Ancestor:DoesAxeExist()then 
        SendUserNotice:Fire'You Need An Axe To Use This!';
        return false;
    end;
    local OldCFrame=LP.Character.HumanoidRootPart.CFrame
    C_R(C_C(function()
        while GUISettings.DupeInventory do 
            Stepped:wait()
            Ancestor:DropTools(OldCFrame);
            Connections[#Connections+1]={Name='DupeInventory',Function=LP.CharacterAdded:Connect(function(Character)
                repeat task.wait()until Character:FindFirstChild'HumanoidRootPart'; 
                Ancestor:GetConnection('DupeInventory',true)
            end)};
            firetouchinterest(Passenger.Head,Lava,0);
            repeat Stepped:wait()until typeof(Ancestor:GetConnection'DupeInventory')~='RBXScriptConnection';
        end;
        repeat Stepped:wait()until Character and Character:FindFirstChild'HumanoidRootPart';
        Character.HumanoidRootPart.CFrame=OldCFrame;
    end));
    return true;
end;

function Ancestor:MaxLand(Plot,IgnoreLimit)
    if not Ancestor:GetPlayersBase(LP)then 
        Ancestor:FreeLand();
        repeat Stepped:wait()until Ancestor:GetPlayersBase(LP)
    end;
    if not Plot then 
        Plot=Ancestor:GetPlayersBase(LP);
    end;
    local OriginSquare=Plot.OriginSquare;
    local children=#Plot:GetChildren()
    if children>=26 and GUISettings.DisableSaving and not IgnoreLimit then
        Ancestor:Notify('Error','Already Max-Landed',4);
        return;
    end;
    ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+40,OriginSquare.Position.Y,OriginSquare.Position.Z));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-40,OriginSquare.Position.Y,OriginSquare.Position.Z));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X,OriginSquare.Position.Y,OriginSquare.Position.Z+40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X,OriginSquare.Position.Y,OriginSquare.Position.Z-40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+40,OriginSquare.Position.Y,OriginSquare.Position.Z+40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+40,OriginSquare.Position.Y,OriginSquare.Position.Z-40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-40,OriginSquare.Position.Y,OriginSquare.Position.Z+40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-40,OriginSquare.Position.Y,OriginSquare.Position.Z-40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+80,OriginSquare.Position.Y,OriginSquare.Position.Z));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-80,OriginSquare.Position.Y,OriginSquare.Position.Z));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X,OriginSquare.Position.Y,OriginSquare.Position.Z+80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X,OriginSquare.Position.Y,OriginSquare.Position.Z-80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+80,OriginSquare.Position.Y,OriginSquare.Position.Z+80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+80,OriginSquare.Position.Y,OriginSquare.Position.Z-80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-80,OriginSquare.Position.Y,OriginSquare.Position.Z+80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-80,OriginSquare.Position.Y,OriginSquare.Position.Z-80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+40,OriginSquare.Position.Y,OriginSquare.Position.Z+80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-40,OriginSquare.Position.Y,OriginSquare.Position.Z+80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+80,OriginSquare.Position.Y,OriginSquare.Position.Z+40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+80,OriginSquare.Position.Y,OriginSquare.Position.Z-40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-80,OriginSquare.Position.Y,OriginSquare.Position.Z+40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-80,OriginSquare.Position.Y,OriginSquare.Position.Z-40));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X+40,OriginSquare.Position.Y,OriginSquare.Position.Z-80));ClientExpandedProperty:FireServer(Plot,cframe.new(OriginSquare.Position.X-40,OriginSquare.Position.Y,OriginSquare.Position.Z-80));
    if not IgnoreLimit then Ancestor:Teleport(cframe.new(Plot.OriginSquare.CFrame.p)+vector3.new(0,5,0));end;
end;

function Ancestor:GetFreeLand(Donate)
    local UnOwnedPlots={};
	for i=1,#Plots do 
		local Plot=Plots[i];
        if Plot.Owner.Value==nil then 
            if Donate then
                if not table.find(whitelistedPlots,tstring(Plot.OriginSquare.OriginCFrame.Value))then 
                    return Plot;
                end;
            end;
            UnOwnedPlots[#UnOwnedPlots+1]=Plot;
		end;
    end
    local Max,NearestPlot=9e9;
    for i=1,#UnOwnedPlots do 
        local Plot=UnOwnedPlots[i];
        if(Plot.OriginSquare.CFrame.p-LP.Character.Head.CFrame.p).Magnitude<Max then 
            NearestPlot=Plot;
            Max=(Plot.OriginSquare.CFrame.p-LP.Character.Head.CFrame.p).Magnitude;
        end;
    end;
    return NearestPlot;
end;

function Ancestor:GetClosestCounter(StoreItem)
local Min,ClosestCounter=9e9
    for i=1,#StoreChildren do 
        local Store=StoreChildren[i];
        if Store:FindFirstChild'Counter'then 
            local Counter=Store:FindFirstChild'Counter';
            if(Counter.CFrame.p-StoreItem.Main.CFrame.p).Magnitude<Min then 
                ClosestCounter=Counter;
                Min=(Counter.CFrame.p-StoreItem.Main.CFrame.p).Magnitude;
            end;
        end;
    end;
    return ClosestCounter;
end;

function Ancestor:Fly()
    local MaxSpeed,WeldOne,WeldTwo=9e9;
    repeat Stepped:wait()until Character and Character:FindFirstChild'Head';
    local Steer,BackSteer={Forward=0,Back=0,Left=0,Right=0},{Forward=0,Back=0,Left=0,Right=0};
    if not Character.Humanoid.SeatPart then
        Character.Humanoid.PlatformStand=true;
    end;
    if Character.Humanoid.SeatPart then
        Car=Character.Humanoid.SeatPart;
        WeldOne=instance.new('Weld',Character.Humanoid.SeatPart);WeldTwo=instance.new('Weld',Character.HumanoidRootPart);
        WeldOne.Part0=Character.HumanoidRootPart
        WeldOne.Part1=Character.Humanoid.SeatPart
        WeldTwo.Part0=Character.HumanoidRootPart
        WeldTwo.Part1=Character.Humanoid.SeatPart			
    end;
    function Fly()
        GUISettings.WaterFloat=false;
        local Gyro=instance.new('BodyGyro',Character.HumanoidRootPart);
        Gyro.P=9e4;
        Gyro.maxTorque=vector3.new(9e9,9e9,9e9);
        Gyro.CFrame=Character.HumanoidRootPart.CFrame;
        local Velocity=instance.new('BodyVelocity',Character.HumanoidRootPart);
        Velocity.Velocity=vector3.new(0,0.1,0);
        Velocity.maxForce=vector3.new(9e9, 9e9, 9e9);
        GUISettings.Noclip=true;
        repeat Stepped:wait()
            local FlySpeed,SteerSpeed=GUISettings.FlySpeed,50;
            if Steer.Left+Steer.Right~=0 or Steer.Forward+Steer.Back~=0 then
                SteerSpeed=FlySpeed;
                if SteerSpeed>MaxSpeed then
                    SteerSpeed=MaxSpeed;
                end;
            elseif not(Steer.Left+Steer.Right~=0 or Steer.Forward+Steer.Back~=0)and speed~=0 then
                SteerSpeed=SteerSpeed-50;
                if SteerSpeed<0 then
                    FlySpeed=0;
                end;
            end;
            if(Steer.Left + Steer.Right)~=0 or(Steer.Forward+Steer.Back)~=0 then
                Velocity.Velocity=((wrkspc.CurrentCamera.CoordinateFrame.lookVector*(Steer.Forward+Steer.Back))+((wrkspc.CurrentCamera.CoordinateFrame*cframe.new(Steer.Left+Steer.Right,(Steer.Forward+Steer.Back)*.2,0).p)-wrkspc.CurrentCamera.CoordinateFrame.p))*SteerSpeed;
                BackSteer={Forward=Steer.Forward,Back=Steer.Back,Left=Steer.Left,Right=Steer.Right}
            elseif(Steer.Left+Steer.Right==0 or Steer.Forward+Steer.Back==0)and SteerSpeed~=0 then
                Velocity.Velocity=((wrkspc.CurrentCamera.CoordinateFrame.lookVector*(BackSteer.Forward+BackSteer.Back))+((wrkspc.CurrentCamera.CoordinateFrame*cframe.new(BackSteer.Left+BackSteer.Right,(BackSteer.Forwardorward+BackSteer.Back)*.2,0).p)-wrkspc.CurrentCamera.CoordinateFrame.p))*SteerSpeed;
            else
                Velocity.Velocity=vector3.new(0,0.1,0);
            end;
            Gyro.CFrame = wrkspc.CurrentCamera.CoordinateFrame*CFrame.Angles(-math.rad((Steer.Forward+Steer.Back)*50*SteerSpeed/MaxSpeed),0,0);
        until not GUISettings.IsClientFlying;
        Gyro:Destroy()
        Velocity:Destroy()
        if WeldOne and WeldTwo then 
            WeldOne:Destroy();
            WeldTwo:Destroy();
            Ancestor:Teleport(cframe.new(Car.CFrame.p))
        end;
        GUISettings.Noclip=false;
        LP.Character.Humanoid.PlatformStand=false;
    end

    Mouse.KeyDown:Connect(function(Key)
        if Key:lower()=='w'then
            isWDown=true;
            Steer.Forward=1;
        elseif Key:lower()=='a'then
            isADown=true;
            Steer.Left=-1;
        elseif Key:lower()=='s'then
            isSDown=true;
            Steer.Back=-1;
        elseif Key:lower()=='d'then
            isSDown=true;
            Steer.Right=1;
        end;
    end);
    Mouse.KeyUp:Connect(function(Key)
        if Key:lower()=='w'then
            isWDown=false;
            Steer.Forward=0;
        elseif Key:lower()=='a'then
            isADown=false;
            Steer.Left=0;
        elseif Key:lower()=='s'then
            isSDown=false;
            Steer.Back=0;
        elseif Key:lower()=='d'then
            isDDown=false;
            Steer.Right=0;
        end;
    end);
    Fly()
end;

function Ancestor:GetStoreItem(Item)
    for i=1,#StoreChildren do 
        local Store=StoreChildren[i];
        if tstring(Store)=='ShopItems'then
            local StoreItems=Store:GetChildren();
            for i=1,#StoreItems do 
                local StoreItem=StoreItems[i];
                if tstring(StoreItem)==Item then  
                    return StoreItem,Ancestor:GetClosestCounter(StoreItem); 
                end
            end;
        end;
    end;
end;

function Ancestor:Whitelist(Player,Value)
    if not Player then Player=LP;end;
    ClientSetListPlayer:InvokeServer(LP.WhitelistFolder,Player,Value);
end;

function Ancestor:FreeLand()
    if Ancestor:GetPlayersBase(LP)and GUISettings.DisableSaving then 
        Ancestor:Notify('Error','You already have a plot!',4);
        return;
    end;
    local Plot=Ancestor:GetFreeLand(true)--(BaseDuping and Ancestor:GetFreeLand(true))or Ancestor:GetFreeLand();
    ClientPurchasedProperty:FireServer(Plot,Plot.OriginSquare.CFrame.p);
    if not BaseDuping then
        Ancestor:Teleport(cframe.new(Plot.OriginSquare.CFrame.p)+vector3.new(0,5,0));
    end;
end;

function Ancestor:ClaimAllFreePlots(MaxLand)
    local NewPlots={};
    local OldPlayerPosition=Character.HumanoidRootPart.CFrame.p;
    if Ancestor:GetPlayersBase(LP)then 
        Ancestor:Notify('Error','Unload Your Base Before Using This!',4);
        return;
    end;
    for i=1,#Plots do 
		local Plot=Plots[i];
        if Plot.Owner.Value==nil then 
            Ancestor:Teleport(cframe.new(Plot.OriginSquare.CFrame.p+vector3.new(0,5,0)));
            repeat Stepped:wait()ClientIsDragging:FireServer(Plot)until Plot.Owner.Value==LP;
            if MaxLand then 
                NewPlots[#NewPlots+1]=Plot;
            end;
		end;
    end;
    if MaxLand then
        SendUserNotice:Fire'Lagging Server. This Will Eventually Kill It. Did I Mention There\'s No Going Back? No? Oh...' 
        for i=1,#NewPlots do 
        local Plot=NewPlots[i]
            task.spawn(function()
                while Stepped:wait()do
                    Ancestor:MaxLand(Plot,true);
                    for i,v in next,Plot:GetChildren()do 
                        if tstring(v)=='Square'then
                            v:Destroy();
                        end;
                    end;
                end;
            end);
        end;
    end;
    if not MaxLand then
        Ancestor:Teleport(OldPlayerPosition)
        SendUserNotice:Fire'Claimed All Plots!';
    end;
end;

function Ancestor:DonateBase(NewMethod)
    if GUISettings.DisableSaving then return Ancestor:Notify('Ancestor','Disable slot saving to use this feature!')end;
    local Plot=Ancestor:GetPlayersBase();
    if Plot then SendUserNotice:Fire('Force unloading. next time don\'t use this while loaded.Please wait...')Ancestor:CanClientLoad();Request_Load:InvokeServer(-1,LP);end;
	local Properties=workspace.Properties:GetChildren()
	for i=1,#Properties do 
	    local Property=Properties[i];
		if Property.Owner.Value==nil then
			if table.find(whitelistedPlots,tstring(Property.OriginSquare.OriginCFrame.Value))then
                FoundPlot=true;
			end;
		end;
	end;
	if not FoundPlot then 
	    return SendUserNotice:Fire'No Supported Plot Located!';
	end;
	BaseDuping=true;
    setthreadidentity(2);
    C_R(C_C(function()
        Request_Load:InvokeServer(Ancestor.BaseToDonate)
    end));setthreadidentity(8);
    if NewMethod then
        repeat Stepped:wait()until not LP.OwnsProperty.Value;
        Ancestor:FreeLand(true);
        repeat Stepped:wait()until Ancestor:GetModelByName('PropertySoldSign');
        Ancestor:GetModelByName('PropertySoldSign'):Destroy();
    end;
	repeat Stepped:wait()until LP.OwnsProperty.Value;
    Ancestor:Set(Ancestor.BaseToDonate);
	repeat Stepped:wait()until Ancestor:GetLoadedSlot()==Ancestor.BaseToDonate;
	local OldPos=LP.Character.HumanoidRootPart.CFrame.p;
	Ancestor:Whitelist(false,true);
    if not NewMethod then
        for i=1,3 do
            local Plot=Ancestor:GetFreeLand()
            Ancestor:Teleport(cframe.new(Plot.OriginSquare.CFrame.p+vector3.new(0,5,0)));
            repeat Stepped:wait()ClientIsDragging:FireServer(Plot)until Plot.Owner.Value==LP;
        end;
    end;
    Ancestor:Teleport(cframe.new(OldPos));
    SendUserNotice:Fire('Please wait. Ancestor Will Inform You When The Donation Has Completed.\n DO NOT LEAVE THE SERVER UNTIL THIS IS COMPLETE!');
    Ancestor:Teleport(cframe.new(Ancestor:GetPlayersBase().OriginSquare.CFrame.p+vector3.new(0,5,0)))
	Ancestor:CanClientLoad();
	Request_Load:InvokeServer(-1,LP);
	Ancestor:Set(-1)
    Ancestor:Whitelist(false,false);
    SendUserNotice:Fire('Successfully donated base!');
	BaseDuping=false;
end;

function Ancestor:FastDeload()
    if BaseDuping or not GUISettings.FastDeloader then return end;
    local PlayerModels=wrkspc.PlayerModels:GetChildren();
    for i=1,#PlayerModels do 
        local Model=PlayerModels[i];
        if Model:FindFirstChild'Owner'and Model.Owner.Value==LP then 
            DestroyStructure:FireServer(Model);
        end;
    end;
end;

function Ancestor:ResetCarSpeed()
    if not Character.Humanoid.SeatPart then return end;
    local CurrentVehicle=Character.Humanoid.SeatPart.Parent.ItemName.Value;
    local VehicleFolder=RepStore.ClientItemInfo:GetDescendants();
    for i=1,#VehicleFolder do 
        local Vehicle=VehicleFolder[i];
        if tstring(Vehicle)==tstring(CurrentVehicle)then 
            Character.Humanoid.SeatPart.Parent.Configuration.MaxSpeed.Value=Vehicle.Model.Configuration.MaxSpeed.Value;
        end;
    end;
end;

RepStore.PropertyPurchasing.SelectLoadPlot.OnClientInvoke=function(...)
    setthreadidentity(2);
    if not BaseDuping then 
        return OldSelectLoad(...);
    end;
	local Properties=workspace.Properties:GetChildren()
	for i=1,#Properties do 
	    local Property=Properties[i];
		if Property.Owner.Value==nil then
			if table.find(whitelistedPlots,tstring(Property.OriginSquare.OriginCFrame.Value))then
                return Property,0;
			end;
		end;
	end;
    setthreadidentity(8);
end;

function Ancestor:GetPlotButtonByID(ID)
    local Amount=-1;
    local Buttons=LP.PlayerGui.LoadSaveGUI.SlotList.Main:GetChildren(); 
        for i=1,#Buttons do 
        local Button=Buttons[i];
        if Button.ClassName=='TextButton'then
            Amount=Amount+1
            if Amount==ID then
                return Button.SlotName;
            end;
        end;
    end;
end;
local CorrectThread=false;
C_R(C_C(function()
    setthreadidentity(2)
    LoadSaveClient.openList();
    LoadSaveClient.exitAll();
    setthreadidentity(8)
    CorrectThread=true;
    for i=1,6 do 
        local Base=Ancestor:GetPlotButtonByID(i);
        Base.TextScaled=true;
    end;
end));

Connections[#Connections+1]={Name='SlotNames',Function=Stepped:Connect(function()
    p_call(function()
        for i=1,6 do 
            local Base=Ancestor:GetPlotButtonByID(i);
            Base.TextScaled=true;
            Base.Text=SlotNames['Slot'..tstring(i)]
        end;
    end);
end)}

function Ancestor:DeleteSlot(SlotNumber)
    if Ancestor:GetLoadedSlot()~=-1 then SendUserNotice:Fire('Unloading Current Slot... Please wait');end;
    Request_Load:InvokeServer(-1,LP);
    Ancestor:Set(-1);
    Request_Save:InvokeServer(SlotNumber,LP); -- Deletes the slot
    SendUserNotice:Fire('Deleted Slot '..SlotNumber..'!')
end;

function Ancestor:DeleteTreeCS()
    local workspaceChildren=wrkspc:GetChildren();
    for i=1,#workspaceChildren do 
        local TreeRegion=workspaceChildren[i];
        if tstring(TreeRegion)=='TreeRegion'then 
            local Trees=TreeRegion:GetChildren();
            for i=1,#Trees do 
                local Tree=Trees[i];
                Tree:Destroy();
            end;
            Stepped:wait();
        end;
    end;
end;

function Ancestor:DarkMode(mode)   
    local color1,color2
    function createCorner(parent)
        if not parent:FindFirstChild('UICorner')then
            local uic=Instance.new('UICorner',parent);
            uic.CornerRadius=UDim.new(0,5)
        end;
    end;

    if mode=='Light'then 
        color1=Color3.fromRGB(255,255,255);
        color2=Color3.fromRGB(0,0,0);
        color3=Color3.fromRGB(220, 220, 220)
    elseif mode=='Dark'then 
        color1=Color3.fromRGB(15,15,15)
        color2=Color3.fromRGB(255,255,255);
        color3=Color3.fromRGB(15,15,15)
    end;
    --Open Menu Button
    local openMenu=LP.PlayerGui.MenuGUI.Open
    
    createCorner(openMenu)
    openMenu.BackgroundColor3=color1
    openMenu.TextLabel.TextColor3=color2
    createCorner(openMenu.DropShadow)
    
    --Main Menu 
    local mainMenu=LP.PlayerGui.MenuGUI.Menu.Main
    local mainMenuQuit=mainMenu.Parent.Quit
    
    mainMenu.BackgroundColor3=color1
    for i,v in next,mainMenu:GetDescendants()do 
        if v:IsA('TextLabel')then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2;
                v.BackgroundColor3=color1;
                createCorner(v)
                v.TextColor3=color2;
            elseif v.Name=='DropShadow'then
                createCorner(v)
                v.TextColor3=color1;
            end;
        end;
        if v:IsA('TextButton')then 
            createCorner(v)
            v.BackgroundColor3=color1;
        end;
    end;
    
    createCorner(mainMenuQuit);
    mainMenuQuit.BackgroundColor3=color1;
    mainMenuQuit.TextLabel.TextColor3=color2;
    createCorner(mainMenuQuit.DropShadow);createCorner(mainMenu);createCorner(mainMenu.DropShadow);
    
    --Load Menu 
    local loadMenu=LP.PlayerGui.LoadSaveGUI;
    loadMenu.SlotList.Main.BackgroundColor3=color1;
    for _,textLabel in next, loadMenu.SlotList.Main:GetDescendants()do 
        if textLabel:IsA('TextLabel')then
            if textLabel.Name=='IsCurrentSlot'then 
                textLabel.TextStrokeColor3=color1;
            end;
            if textLabel.Name=='DropShadow'then 
                textLabel.TextColor3=color1;
            else
            createCorner(textLabel)
            textLabel.TextColor3=color2;
        end;
        elseif textLabel:IsA('TextButton')then 
            textLabel.BackgroundColor3=color1;
            createCorner(textLabel)
        end;
    end;
    LP.PlayerGui.PropertyPurchasingGUI.SelectPurchase.Cost.BackgroundColor3=color1
    --Quit
    createCorner(loadMenu.SlotList.Quit)
    loadMenu.SlotList.Quit.BackgroundColor3=color1;
    loadMenu.SlotList.Quit.TextLabel.TextColor3=color2;
    createCorner(loadMenu.SlotList.Quit.DropShadow);
    createCorner(loadMenu.SlotList.Main);createCorner(loadMenu.SlotList.Main.DropShadow)
    --Load Current Slot 
    local slotInfoMain=loadMenu.SlotInfo.Main 
    local progress=loadMenu.Progress
    for _,v in next,progress:GetDescendants()do 
        if v:IsA'Frame' then 
            createCorner(v);
            if v.Name~='DropShadow'then 
                v.BackgroundColor3=color1;
            end;
        end;
    end;
    createCorner(progress.Main.Text);progress.Main.Text.BackgroundColor3=color1;progress.Main.Text.TextColor3=color2
    
    createCorner(slotInfoMain);createCorner(slotInfoMain.DropShadow)
    for _,button in next,slotInfoMain:GetDescendants()do 
        if button:IsA('TextButton')or button:IsA('TextLabel')then 
            button.BackgroundColor3=color1
            button.TextColor3=color2
            createCorner(button);
        end;
    end;
    slotInfoMain.BackgroundColor3=color1
    
    --Load Quit 
    createCorner(slotInfoMain.Parent.Quit)
    slotInfoMain.Parent.Quit.BackgroundColor3=color1;
    slotInfoMain.Parent.Quit.TextLabel.TextColor3=color2;
    createCorner(slotInfoMain.Parent.Quit.DropShadow);
    createCorner(slotInfoMain.Parent.Quit);createCorner(slotInfoMain.Parent.Quit.DropShadow)
    
    --Select Plot
    local selectPlot=LP.PlayerGui.PropertyPurchasingGUI
    for _, v in next,selectPlot:GetDescendants()do 
        if v.ClassName=='Frame'then 
            createCorner(v);
            if v.Name=='DropShadow'then 
                v.BackgroundColor3=Color3.fromRGB(0,0,0)
            else
                v.BackgroundColor3=color1
            end;
        end;
        if v:IsA('TextLabel')or v:IsA'TextButton'then 
            v.TextColor3=color2
            v.BackgroundColor3=color1
            createCorner(v);
        end;
    end;
    --Notice
    local noticeUI=LP.PlayerGui.NoticeGUI.Notice.Main 
    createCorner(noticeUI)
    noticeUI.BackgroundColor3=color1
    for _,v in next,noticeUI:GetDescendants()do 
        if v:IsA('TextButton')or v:IsA('TextLabel')then 
            v.TextColor3=color2
            v.BackgroundColor3=color1
            createCorner(v);
        end;
        if v:IsA('Frame')then 
            createCorner(v)
        end;
    end;
    
    --Money Gui 
    local buyMoney=LP.PlayerGui.BuyMoneyGUI.BuyMoney 
    
    for _,v in next,buyMoney:GetDescendants()do 
        if v:IsA('Frame')then 
            createCorner(v)
            if v.Name~='DropShadow'then 
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA('TextLabel')and not string.find(v.Text,'R')then 
            if v.Name~='DropShadow'then 
                v.TextColor3=color2;
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
        end;
        if v:IsA'TextButton'then 
            v.BackgroundColor3=color1;
        end;
        createCorner(v);
    end;
    
    --Whitelist 
    local whiteListGui=LP.PlayerGui.WhiteListGUI 
    
    for _,v in next,whiteListGui:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'or v:IsA'TextButton'then 
            if v.Name=='InfoT'then 
                v.TextStrokeColor3=color1;
            end;
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
                v.TextStrokeColor3=color2;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
        if v:IsA'ScrollingFrame'then 
            v.BackgroundColor3=color1;
        end;
    end;
    
    --Blacklist 
    local blackListGui=LP.PlayerGui.BlackListGUI 
    
    for _,v in next,blackListGui:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
        if v:IsA'ScrollingFrame'then 
            v.BackgroundColor3=color1;
        end;
    end;
    
    --Send Money 
    
    local sendMoney=LP.PlayerGui.DonateGUI 
    
    for _,v in next,sendMoney:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
        if v:IsA'ScrollingFrame'then 
            v.BackgroundColor3=color1;
        end;
    end;
    LP.PlayerGui.DonateGUI.Donate.Main.AmountLabel.BackgroundColor3=Color3.fromRGB(0,155,0);
    createCorner(LP.PlayerGui.DonateGUI.Donate.Main.AmountLabel)
    LP.PlayerGui.DonateGUI.Donate.Main.AmountLabel.TextColor3=color2
    --Changelog 
    local changeLog=LP.PlayerGui.ChangelogGUI
    
    for _,v in next,changeLog:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    
    --Credits
    local creditsUI=LP.PlayerGui.CreditsGUI
    
    for _,v in next,creditsUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    
    local scr=getsenv(LP.PlayerGui.CreditsGUI.CreditsClient)
        local old=scr.openWindow
        local old2=scr.displayPage
        scr.openWindow=function()
            old()
            local creditsUI=LP.PlayerGui.CreditsGUI
            for _,v in next,creditsUI:GetDescendants()do
                if v:IsA'Frame'then 
                    createCorner(v);
                    if v.Name~='DropShadow'then
                        v.BackgroundColor3=color1;
                    end;
                end;
                if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
                    if v.Name~='DropShadow'then
                        v.TextColor3=color2
                    else
                        v.TextColor3=color1;
                    end;
                    v.BackgroundColor3=color1;
                    createCorner(v);
                end;
            end;
        end;
        scr.displayPage=function()
        old2()
        local creditsUI=LP.PlayerGui.CreditsGUI
        for _,v in next,creditsUI:GetDescendants()do
            if v:IsA'Frame'then 
                createCorner(v);
                if v.Name~='DropShadow'then
                    v.BackgroundColor3=color1;
                end;
            end;
            if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
                if v.Name~='DropShadow'then
                    v.TextColor3=color2
                else
                    v.TextColor3=color1;
                end;
                v.BackgroundColor3=color1;
                createCorner(v);
            end;
        end;
    end;
    
    --OnBoarding 
    local onBoardingGUI=LP.PlayerGui.OnboardingGUI
    
    for _,v in next,onBoardingGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --Chat GUI
    local chat=LP.PlayerGui.ChatGUI
    for _,v in next,chat:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --ItemDraggerGUI 
    local itemDraggingGUI=LP.PlayerGui.ItemDraggingGUI
    for _,v in next,itemDraggingGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            v.TextColor3=color2
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --ItemInfo 
    local itemInfoGUI=LP.PlayerGui.ItemInfoGUI
    for _,v in next,itemInfoGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA('ImageLabel')then 
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
                v.TextStrokeColor3=color1
            else
                v.TextColor3=color1;
                v.TextStrokeColor3=color1
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --InteractionGUI
    local interactionGUI=LP.PlayerGui.InteractionGUI
    for _,v in next,interactionGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color2;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    LP.PlayerGui.InteractionGUI.OwnerShow.BackgroundColor3=color1;
    --StructureGui
    local structureDraggingGUI=LP.PlayerGui.StructureDraggingGUI
    for _,v in next,structureDraggingGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --WireDraggingGUI
    local wireDraggingGUI=LP.PlayerGui.WireDraggingGUI
    for _,v in next,wireDraggingGUI:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    --OverWriteConfirm
    local overWriteConfirm=loadMenu.OverwriteConfirm
    for _,v in next,overWriteConfirm:GetDescendants()do
        if v:IsA'Frame'then 
            createCorner(v);
            if v.Name~='DropShadow'then
                v.BackgroundColor3=color1;
            end;
        end;
        if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
            if v.Name~='DropShadow'then
                v.TextColor3=color2
            else
                v.TextColor3=color1;
            end;
            v.BackgroundColor3=color1;
            createCorner(v);
        end;
    end;
    LP.PlayerGui.ItemDraggingGUI.CanDrag.PlatformButton.KeyLabel.TextSize=14;
    LP.PlayerGui.ItemDraggingGUI.CanRotate.PlatformButton.KeyLabel.TextSize=14
    LP.PlayerGui.ItemDraggingGUI.CanRotate.PlatformButton.KeyLabel.TextScaled=false;
    for _,v in next,LP.PlayerGui:GetDescendants()do 
        if v.Name=='KeyLabel'then 
            v.TextColor3=Color3.fromRGB(0,0,0);
        end;
    end;
    --Blueprints
    local scr=getsenv(LP.PlayerGui.Blueprints.LocalBlueprints)
    local old=scr.populateCategoryList
    scr.populateCategoryList=function()
        old()
        local blueprints=LP.PlayerGui.Blueprints
        for _,v in next,blueprints:GetDescendants()do
            if v:IsA('ImageLabel')then 
                v.BackgroundColor3=color1;
            end;
            if v:IsA'Frame'then 
                createCorner(v);
                if v.Name~='DropShadow'then
                    v.BackgroundColor3=color1;
                elseif mode=='Dark'then 
                    v.BackgroundColor3=Color3.fromRGB(0,0,0);
                elseif mode=='Light'then 
                    v.BackgroundColor3=Color3.fromRGB(25,25,25);
                end;
            end;
            if v:IsA'TextLabel'and v.Name~='InfoT'or v:IsA'TextButton'then 
                if v.Name=='DropShadow'then
                    v:remove();
                end
                if v.Text=='Blueprints'and v.Name~='DropShadow'then 
                    v.TextColor3=color2;
                else
                    v.TextColor3=color2;
                end;
                v.BackgroundColor3=color1;
                createCorner(v);
            end;
            if v:IsA'ScrollingFrame'then 
                v.BackgroundColor3=color1;
            end;
        end;
    end;
end;Ancestor:DarkMode'Dark';
function Ancestor:HardDragger(state)
    if not state then 
        Ancestor:GetConnection('HardDragger',true);
        return;
    end
    Connections[#Connections+1]={Name='HardDragger',Function=wrkspc.ChildAdded:connect(function(Dragger)
        if tstring(Dragger)=='Dragger'then
            local BodyGyro=Dragger:WaitForChild'BodyGyro';
            local BodyPosition=Dragger:WaitForChild'BodyPosition';
            repeat Stepped:wait()until wrkspc:FindFirstChild'Dragger';
            repeat Stepped:wait()
                BodyPosition.P=120000;
                BodyPosition.D=1000;
                BodyPosition.maxForce=vector3.new(1,1,1)*1000000;
                BodyGyro.maxTorque=vector3.new(1,1,1)*200;
                BodyGyro.P=1200;
                BodyGyro.D=140;
            until not wrkspc:FindFirstChild'Dragger';
            -->Revert
            BodyPosition.P=10000;
            BodyPosition.D=800;
            BodyPosition.maxForce=vector3.new(17000,17000,17000);
            BodyGyro.maxTorque=vector3.new(200,200,200);
            BodyGyro.P=1200;
            BodyGyro.D=140;
        end;
    end)};
end;

function Ancestor:IsPlayerWhitelisted(Player)
    return ClientIsWhitelisted:InvokeServer(Player)==true;
end;


function Ancestor:CanPlaceItem(Item)-->Improved From Game Source
    local PlayerLand={};
    local Properties=workspace.Properties:GetChildren();
    for i=1,#Properties do 
        local Property=Properties[i];
	    if Property.Owner.Value and(Ancestor:IsPlayerWhitelisted(Players[tstring(Property.Owner.Value)]))or Property.Owner.Value==LP then
            local Plots=Property:GetChildren();
            for i=1,#Plots do 
                local Plot=Plots[i];
	            if Plot:IsA'BasePart'then
	                PlayerLand[#PlayerLand+1]={MinBounds=Vector3.new(math.min(Plot.Position.X+Plot.Size.X/2,Plot.Position.X-Plot.Size.X/2),Plot.Position.Y,math.min(Plot.Position.Z+Plot.Size.Z/2,Plot.Position.Z-Plot.Size.Z/2)),MaxBounds=Vector3.new(math.max(Plot.Position.X+Plot.Size.X/2,Plot.Position.X-Plot.Size.X/2),Plot.Position.Y+100,math.max(Plot.Position.Z+Plot.Size.Z/2,Plot.Position.Z-Plot.Size.Z/2)),Owner=Property.Owner.Value};
	           end;
	        end;
	    end;
    end;
	local CanPlace=true;
	local PlotOwner=LP;
	local PlaceItem=Item:GetChildren();
	for i=1,#PlaceItem do 
        local Part=PlaceItem[i];
		if Part:IsA'BasePart'then
			local Position=Part.Position;
			local PartInBounds=false;
			for i=1,#PlayerLand do 
                local Plot=PlayerLand[i];
				local inThisPlot=(Position.X>=Plot.MinBounds.X and Position.X<=Plot.MaxBounds.X and Position.Z>=Plot.MinBounds.Z and Position.Z<=Plot.MaxBounds.Z);
				PartInBounds=PartInBounds or inThisPlot;
				if inThisPlot then
					PlotOwner=Plot.Owner;
				end;
			end;
			CanPlace=CanPlace and PartInBounds;
		elseif Part:IsA'Model'then
			local recurseRet,RecursePlotOwner=Ancestor:CanPlaceItem(Part);
			CanPlace=CanPlace and recurseRet;
			PlotOwner=RecursePlotOwner or PlotOwner;
		end;
		if not CanPlace then
			break;
		end;
	end;
	return CanPlace,PlotOwner;
end;

function Ancestor:GetBestAxe()
    local Axes,bestAxe,dmg,damage,longestrange={},nil,0,nil,0;
    LP.Character.Humanoid:UnequipTools();
    for _,Axe in next,LP.Backpack:GetChildren()do
        if Axe:FindFirstChild'CuttingTool'then 
            Axes[#Axes+1]=Axe;
        end;
    end;
    for Index,Axe in next,Axes do
        if Axe:FindFirstChild'ToolName'and AxeFolder:FindFirstChild('AxeClass_'..tstring(Axe.ToolName.Value))then 
            stats=require(AxeFolder:FindFirstChild('AxeClass_'..tstring(Axe.ToolName.Value))).new();       
            if stats.SpecialTrees then 
                if stats.SpecialTrees[Ancestor.SelectedTreeType]then
                    return Axe;
                end;
            end;
            damage=stats.Damage;
            range=stats.Range;
            if damage>dmg and longestrange<range then 
                longestrange=range;
                dmg=damage;
                bestAxe=Axe;
            end;
        end;
    end;
    return bestAxe;
end;

function Ancestor:GetHitPoint(Axe)
local NewAxeFolder=AxeFolder['AxeClass_'..tstring(Axe.ToolName.Value)];
local AxeModule=require(NewAxeFolder).new();
local HitPoint=AxeModule.Damage;
    if AxeModule.SpecialTrees then 
        if AxeModule.SpecialTrees[Ancestor.SelectedTreeType]then 
            HitPoint=AxeModule.SpecialTrees[Ancestor.SelectedTreeType].Damage
        end
    end				
    return HitPoint;
end;

function Ancestor:GetRandomCar()
    local PlayerModels=workspace.PlayerModels:GetChildren();
    for i=1,#PlayerModels do 
        local Model=PlayerModels[i];
        if Model:FindFirstChild'Owner'and Model.Owner.Value==LP and Model:FindFirstChild'Seat'then 
            return Model
        end;
    end;
    return false
end;
            

function Ancestor:ModeratePlayer(Option)
    local Vehicle,Lava=Ancestor:GetRandomCar(),workspace['Region_Volcano'].Lava.Lava;
    if Ancestor.PlayerToModerate==LP then 
        SendUserNotice:Fire'You Cannot Perform This Action On Yourself!';
        return false;
    end;
    if not Players:FindFirstChild(tstring(Ancestor.PlayerToModerate))then 
        SendUserNotice:Fire'Selected Player Has Left The Game!';
        return false;
    end;
    if Players:FindFirstChild(tstring(Ancestor.PlayerToModerate)).Character.Humanoid.Sit then 
        SendUserNotice:Fire'Selected Player Is Seated!';
        return false;
    end;
    if not LP.Character:FindFirstChild'Humanoid'then return end;
    if not LP.Character.Humanoid.SeatPart then
        if not Vehicle then return SendUserNotice:Fire'A Vehicle Owned By You Is Required!';end
        LP.Character:MoveTo(Vehicle.DriveSeat.CFrame.p);
        Vehicle.DriveSeat:Sit(LP.Character.Humanoid);
    end;
    repeat RunService.Stepped:wait()until LP.Character.Humanoid.SeatPart==Vehicle.DriveSeat;
    print'done';
    local Main=Vehicle:FindFirstChild'Main';
    if Main then 
        firetouchinterest(Main,Lava,0);
    end;
    repeat game:GetService'RunService'.Stepped:wait()
        Vehicle.Seat.CFrame=Ancestor.PlayerToModerate.Character['Right Leg'].CFrame-Vector3.new(0,.5,0);
    until Ancestor.PlayerToModerate.Character.Humanoid.SeatPart==Vehicle.Seat;
    if Option=='Kill'then
        firetouchinterest(Ancestor.PlayerToModerate.Character.Head,Lava,0);
    end;
    Vehicle.Seat.CFrame=Player.Character.Head.CFrame+Vector3.new(0,5,0);
end;

function Ancestor:CSInvis(Enabled)
    if not Enabled then
        for i,v in next,Lighting:GetChildren()do 
            if v:IsA'Accessory'then 
                v.Parent=Character;
            end;
        end;
    end;
    for i,v in next,Character:GetDescendants()do 
        if v.Name=='face'or v:IsA'BasePart'and v.Name~='HumanoidRootPart'then 
            v.Transparency=(Enabled and 1)or 0;
        end;
        if v:IsA'Accessory'then 
            if Enabled then
                v.Parent=game.Lighting;
            end;
        end;
    end;
end;

function Ancestor:AutobuyItems()
    local ItemToBuy,Counter=Ancestor:GetStoreItem(AutobuySelectedItem);
    local Store=ItemToBuy.Parent;
    local Price=Ancestor:GetItemInfo(tstring(ItemToBuy),'Price')
    if Price>=Ancestor:GetClientMoney()then
        SendUserNotice:Fire('Not Enough Money! You Need $'..tstring(Price)..'!');
        return;
    end;
    local OldPlayerPosition=LP.Character.HumanoidRootPart.CFrame.p;
    if not Ancestor:CanPlaceItem(Character)then
        Instant=false;
    else
        Instant=true;
    end;
    for i=1,AutobuyAmount do 
        if not ItemToBuy then 
            repeat Stepped:wait()until Store:FindFirstChild(tstring(AutobuySelectedItem));
            ItemToBuy=Store:FindFirstChild(tstring(AutobuySelectedItem));
        end;
        if i==1 then Ancestor:Teleport(cframe.new(ItemToBuy.PrimaryPart.CFrame.p+vector3.new(5,0,5)));for i=1,2 do TestPing:InvokeServer();end;end;
        repeat Stepped:wait()ClientRequestOwnership:FireServer(ItemToBuy)ClientIsDragging:FireServer(ItemToBuy)ItemToBuy:SetPrimaryPartCFrame(cframe.new(Counter.CFrame.p))until (Counter.CFrame.p-ItemToBuy.PrimaryPart.CFrame.p).Magnitude<8;
        Connections[#Connections+1]={Name='AutobuyConnection',Function=wrkspc.PlayerModels.ChildAdded:Connect(function(Child)
            local Owner=Child:WaitForChild('Owner',5);
            if Owner.Value==LP then 
                Ancestor:GetConnection('AutobuyConnection',true);
                if not Instant then
                    repeat Stepped:wait()ClientIsDragging:FireServer(ItemToBuy)ItemToBuy:SetPrimaryPartCFrame(cframe.new(OldPlayerPosition+vector3.new(0,5,0)))until(ItemToBuy.PrimaryPart.CFrame.p-OldPlayerPosition).Magnitude<10;
                else 
                    ClientPlacedStructure:FireServer(nil,cframe.new(OldPlayerPosition+vector3.new(4,0,4)),LP,nil,ItemToBuy,true);
                end;
            end;
        end)};
        repeat Stepped:wait()Ancestor:BuyItem(ItemToBuy)until typeof(Ancestor:GetConnection'AutobuyConnection')~='RBXScriptConnection';
    end;
    Ancestor:Teleport(cframe.new(OldPlayerPosition));
end;

function Ancestor:FastCheckout(Value)
    if Executor=='Arceus'then return end;
    setconstant(NPCChattingClient.advanceChat,18,Value)
end;

function Ancestor:Fling()
    local Fling=instance.new'BodyAngularVelocity';
    Fling.Parent=Character.HumanoidRootPart;
    Fling.AngularVelocity=vector3.new(0,300000,0);
    Fling.MaxTorque=vector3.new(0,300000,0);
    Fling.P=9e9;
    GUISettings.Noclip=true;
    while GUISettings.Fling do 
        Stepped:wait()
        if Character.Humanoid.FloorMaterial==Enum.Material.Air then 
            Fling.AngularVelocity=vector3.new(0,0,0);
        else
            Fling.AngularVelocity=vector3.new(0,600000,0);
        end;
    end;
    Fling:Destroy();
    GUISettings.Noclip=false;
end;

repeat Stepped:Wait()until CorrectThread;
local AncestorUI=Library:Initiate();
local LocalPlayerTab=AncestorUI:CreateTab(5181994100,'Client Options');
local HumanoidSectionTab=LocalPlayerTab:CreateSection()
local HumanoidSection=HumanoidSectionTab:CreateSubSection('Humanoid Options');

-- HumanoidSection:CreateDropDown()
HumanoidSection:CreateSlider('Walk Speed',function(Speed)GUISettings.WalkSpeed=Speed;end,16,400,GUISettings.WalkSpeed,true,'Changes Your Character\'s WalkSpeed.');
HumanoidSection:CreateSlider('Sprint Speed',function(Speed)GUISettings.SprintSpeed=Speed;end,20,200,GUISettings.SprintSpeed,true,'Changes Your Character\'s Sprint Speed.');
HumanoidSection:CreateSlider('Jump Power',function(Power)GUISettings.JumpPower=Power;end,50,400,GUISettings.JumpPower,true,'Changes Your Character\'s Jump Power.');
HumanoidSection:CreateSlider('Hip Height',function(Height)GUISettings.HipHeight=Height;end,0,200,GUISettings.HipHeight,true,'Changes Your Character\'s Hip Height.');
HumanoidSection:CreateSlider('Fly Speed',function(Speed)GUISettings.FlySpeed=Speed;end,50,400,GUISettings.FlySpeed,true,'Changes Your Character\'s Fly Speed.');
HumanoidSection:CreateKeybind('Fly',function(Key)GUISettings.FlyKey=tstring(Key.Name)end,Enum.KeyCode[GUISettings.FlyKey],true,'Binds A Key For Flying.');
HumanoidSection:CreateKeybind('Sprint(Hold)',function(Key)GUISettings.SprintKey=tstring(Key.Name)end,Enum.KeyCode[GUISettings.SprintKey],true,'Binds A Key For Sprinting.');
HumanoidSection:CreateKeybind('Noclip',function(Key)GUISettings.NoclipKey=tstring(Key.Name)end,Enum.KeyCode.LeftControl,true,'Binds A Key For Noclipping.');
HumanoidSection:CreateKeybind('Key-TP',function(v)
    if(LP.Character.Head.CFrame.p-Mouse.Hit.p).Magnitude<5000 then 
        Ancestor:Teleport(cframe.new(Mouse.Hit.p)+vector3.new(0,3,0));
    end;
end,Enum.KeyCode.G,true,'Binds A Key For Teleportion');
HumanoidSection:CreateToggle('Infinite Jump',false,function(toggle)GUISettings.InfiniteJump=toggle;end,GUISettings.InfiniteJump,true,'Allows You To Jump Indefinitely.');
HumanoidSection:CreateToggle('Light',false,function(toggle)GUISettings.Light=toggle;Ancestor:ApplyLight();end,GUISettings.Light,true,'Applies A Light To Your Character\'s Head.');
HumanoidSection:CreateToggle('Fling',false,function(toggle)GUISettings.Fling=toggle;if toggle then Ancestor:Fling()end;end,GUISettings.Fling,true,'Rotates You Violently To Fling Items/Players.');
-- HumanoidSection:CreateToggle('Dance Stroke',false,function(toggle)GUISettings.Fling=toggle;if toggle then Ancestor:Fling()end;end,GUISettings.Fling,true,'Rotates You Violently To Fling Items/Players.');
HumanoidSection:CreateButton('Safe Suicide',function()Ancestor:SafeSuicide();end,true,true,'Kills Your Character But Keeps Your Axes.');
local CameraSection=HumanoidSectionTab:CreateSubSection('Camera Options');
local FOVSlider=CameraSection:CreateSlider('FOV',function(FOV)GUISettings.FOV=FOV;wrkspc.CurrentCamera.FieldOfView=FOV;end,1,120,GUISettings.FOV,true,'Changes Your Camera\'s FOV.');
CameraSection:CreateButton('Reset FOV',function()GUISettings.FOV=70;FOVSlider:Set(70)wrkspc.CurrentCamera.FieldOfView=70;end,true,true,'Resets Your Camera\'s FOV.');
local MiscSection=HumanoidSectionTab:CreateSubSection('Misc Options');
MiscSection:CreateToggle('Anti-AFK',false,function(state)GUISettings.AntiAFK=state;Ancestor:AntiAFK(state)end,GUISettings.AntiAFK,true,'Toggles Anti-AFK');
MiscSection:CreateButton('BTools',function()Ancestor:GiveBTools();end,true,true,'Gives You BTools To Modify The Game World To Your Liking.');
MiscSection:CreateButton('Rejoin Game',function()TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,LP);end,true,true,'Rejoins The Current Server You\'re Playing In.');
local TeleportSection=HumanoidSectionTab:CreateSubSection();
TeleportSection:CreateTitle('Teleport To Location')
TeleportSection:CreateDropDown(function(Location)if Location=='Wood R Us'then Ancestor:Teleport(cframe.new(270,4,60));elseif Location=='Spawn'then Ancestor:Teleport(cframe.new(174,10.5,66));elseif Location=='Land Store'then Ancestor:Teleport(cframe.new(270,3,-98));elseif Location=='Bridge'then Ancestor:Teleport(cframe.new(112,37,-892));elseif Location=='Dock'then Ancestor:Teleport(cframe.new(1136,0,-206));elseif Location=='Palm'then Ancestor:Teleport(cframe.new(2614,-4,-34));elseif Location=='Cave'then Ancestor:Teleport(cframe.new(3590,-177,415));elseif Location=='Volcano'then Ancestor:Teleport(cframe.new(-1588,623,1069));elseif Location=='Swamp'then Ancestor:Teleport(cframe.new(-1216,131,-822));elseif Location=='Fancy Furnishings'then Ancestor:Teleport(cframe.new(486,3,-1722));elseif Location=='Boxed Cars'then Ancestor:Teleport(cframe.new(509,3,-1458));elseif Location=='Ice Mountain'then Ancestor:Teleport(cframe.new(1487,415,3259));elseif Location=='Links Logic'then Ancestor:Teleport(cframe.new(4615,7,-794));elseif Location=='Bob\'s Shack'then Ancestor:Teleport(cframe.new(292,8,-2544));elseif Location=='Fine Arts Store'then Ancestor:Teleport(cframe.new(5217,-166,721));elseif Location=='Shrine Of Sight'then Ancestor:Teleport(cframe.new(-1608,195,928));elseif Location=='Strange Man'then Ancestor:Teleport(cframe.new(1071,16,1141));elseif Location=='Volcano Win'then Ancestor:Teleport(cframe.new(-1667,349,1474));elseif Location=='Ski Lodge'then Ancestor:Teleport(cframe.new(1244,59,2290));elseif Location=='Fur Wood'then Ancestor:Teleport(cframe.new(-1080,-5,-942));elseif Location=='The Den'then Ancestor:Teleport(cframe.new(330,45,1943));end;end,{'Spawn','Wood R Us','Land Store','Bridge','Dock','Palm','Cave','The Den','Volcano','Swamp','Fancy Furnishings','Boxed Cars','Links Logic','Bobs Shack','Fine Arts Store','Ice Mountain','Shrine Of Sight','Strange Man','Volcano Win','Ski Lodge','Fur Wood'},'Spawn',false);
TeleportSection:CreateTitle('Teleport To Player')
TeleportSection:CreateDropDown(function(Player)
    if not Players:FindFirstChild(Player)then 
        return Ancestor:Notify('Error','Player Not Found!');
    end;Ancestor:Teleport(cframe.new(Players[Player].Character.HumanoidRootPart.CFrame.p+vector3.new(0,5,0)));
end,{},false,true);
TeleportSection:CreateTitle'Teleport To Player\'s Base';
TeleportSection:CreateDropDown(function(Player)
    if not Players:FindFirstChild(Player)then 
        return Ancestor:Notify('Error','Player Not Found!');
    end;
    xp_call(function()
        Ancestor:Teleport(cframe.new(Ancestor:GetPlayersBase(Players[Player]).OriginSquare.CFrame.p+vector3.new(0,5,0)));
    end,function()Ancestor:Notify('Error','Player Has No Plot!');end);
end,{},false,true);

local GamePlayerTab=AncestorUI:CreateTab(6894662531,'Game Options');
local GameSectionTab=GamePlayerTab:CreateSection()
local GraphicalSection=GameSectionTab:CreateSubSection('Graphical Options');
local AlwaysDay,AlwaysNight;
AlwaysDay=GraphicalSection:CreateToggle('Always Day',function()if AlwaysNight:GetState() then AlwaysNight:Toggle()end;end,function(state)GUISettings.AlwaysDay=state;end,GUISettings.AlwaysDay,true,'Changes The InGame Time To DayTime.');
AlwaysNight=GraphicalSection:CreateToggle('Always Night',function()if AlwaysDay:GetState()then AlwaysDay:Toggle()end;end,function(state)GUISettings.AlwaysNight=state;end,GUISettings.AlwaysNight,true,'Changes The InGame Time To NightTime.');
GraphicalSection:CreateToggle('No Fog',false,function(state)GUISettings.NoFog=state;end,GUISettings.NoFog,true,'Removes InGame Fog');
GraphicalSection:CreateToggle('Spook',false,function(state)GUISettings.Spook=state;Lighting.Spook.Value=state;end,GUISettings.Spook,true,'Toggles Spook Mode Usually Found In The Halloween Event');
local StoreSection=GameSectionTab:CreateSubSection('Store Options');
StoreSection:CreateToggle('Fast Checkout',false,function(state)GUISettings.FastCheckout=state;Ancestor:FastCheckout(state and 0 or 1.5)end,GUISettings.FastCheckout,true,'Allows You To Interact With Cashier\'s Much Faster Than Usual.');
StoreSection:CreateToggle('Fix Cashier\'s Range',false,function(state)GUISettings.FixCashierRange=state;Ancestor:FixCashierRange(state and'Enable'or'Disable')end,GUISettings.FixCashierRange,true,'Makes The "Chat With.." UI Appear Faster Than Usual.');
local ServerSettings=GameSectionTab:CreateSubSection('Server Options');
ServerSettings:CreateButton('Claim All Plots',function()Ancestor:ClaimAllFreePlots()end,true,true,'Claims All Free Plots In The Server.');
local ClientOptions=GameSectionTab:CreateSubSection('Client Options');
ClientOptions:CreateButton('Delete All Trees',function()Ancestor:DeleteTreeCS()end,true,true,'This Will Client Destroy Every Tree In The Server.');

local WaterSection=GameSectionTab:CreateSubSection('Water Options');
WaterSection:CreateToggle('Water Walk',false,function(state)
    GUISettings.WaterWalk=state;
    local Water=wrkspc.Water:GetChildren();
    local WaterBridge=wrkspc.Bridge.VerticalLiftBridge.WaterModel:GetChildren();
    for i=1,#WaterBridge do WaterBridge[i].CanCollide=state;end;
    for i=1,#Water do Water[i].CanCollide=state;end;
end,GUISettings.WaterWalk,true,'Allows You To Walk On Water.');

WaterSection:CreateToggle('Water Float',false,function(state)
    GUISettings.WaterFloat=state;
    CharacterFloat.isInWater=function(...)
        LP.PlayerGui.UnderwaterOverlay.Enabled=state;
        if not GUISettings.WaterFloat and Ancestor_Loaded then 
            return 1;
        else 
            return CharacterFloatOld(...);
        end;
    end;
end,GUISettings.WaterFloat,true,'Toggles Whether Or Not You Float While In Water.');

local OtherPlayerTab=AncestorUI:CreateTab(8769279408,'Troll Options');
local OtherPlayerSection=OtherPlayerTab:CreateSection()
local ModeratePlayer=OtherPlayerSection:CreateSubSection('Troll Options');

ModeratePlayer:CreateDropDown(function(Option)
    Ancestor.ModerationAction=Option;
 end,{'Kill','Bring'},'Kill');

 ModeratePlayer:CreateDropDown(function(Player)
   Ancestor.PlayerToModerate=Players[tstring(Player)]
end,{},false,true);
ModeratePlayer:CreateButton('Perform Action',function()Ancestor:ModeratePlayer(Ancestor.ModerationAction);end,true,true,'Performs The Selected Action Against The Selected Player.');
local ServerOptions=OtherPlayerSection:CreateSubSection('Server Options');
ServerOptions:CreateToggle('Alert Server Killer(Toxic)',false,function(state)GUISettings.AlertShutdown=state;end,GUISettings.AlertShutdown,true,'Alerts Every Player In The Server That You\'re Going To Kill It.');
ServerOptions:CreateButton('Kill Server',function()if AncestorUI:CreateOption()then if GUISettings.AlertShutdown then SayMessageRequest:FireServer('NUKING SERVER IN 3 ','All')for i=2,1,-1 do task.wait(1)SayMessageRequest:FireServer(tstring(i),'All');end;SayMessageRequest:FireServer('NICE KNOWING YOU BOZOS!!!!','All')end;Ancestor:ClaimAllFreePlots(true)else SendUserNotice:Fire'Kill Server Aborted'end;end,true,true,'This Will Literally Kill The Server. No Joke.');
local PlotTab=AncestorUI:CreateTab(8772257496,'Plot Options');
local PlotSection=PlotTab:CreateSection()
local LoadSection=PlotSection:CreateSubSection('Load Options');
local Load;
Load=LoadSection:CreateSlider('Slot To Load',function(slot)if SlotNames.Slot1~='Slot 1'then Load:UpdateHeader('Slot Name: '..SlotNames['Slot'..slot])end;GUISettings.SelectedPlot=slot;end,1,6,1,false,nil,(SlotNames.Slot1~='Slot 1'));
if SlotNames.Slot1~='Slot 1'then 
    Load:UpdateHeader('Slot Name: '..SlotNames.Slot1);
end;
LoadSection:CreateButton('Load Selected Slot',function()Ancestor:LoadSlot(GUISettings.SelectedPlot);end,true,true,'Loads The Selected Slot.');
LoadSection:CreateButton('Unload Selected Slot',function()Request_Save:InvokeServer(Ancestor:GetLoadedSlot())Ancestor:CanClientLoad();Ancestor:FastDeload()Request_Load:InvokeServer(-1,LP)Ancestor:Set(-1);end,true,true,'Unloads The Current Slot.');
LoadSection:CreateButton('Delete Selected Slot',function()if AncestorUI:CreateOption()then Ancestor:DeleteSlot(GUISettings.SelectedPlot)else SendUserNotice:Fire'Delete Slot Aborted'end;end,true,true,'Deletes The Selected Slot.');
LoadSection:CreateButton('Save Selected Slot',function()Ancestor:SaveSlot();end,true,true,'Saves The Current Loaded Slot.');
local PlotInfoSection=PlotSection:CreateSubSection('Plot Information');
local SlotName,Slot1,Slot2,Slot3,Slot4,Slot5,Slot6;

PlotInfoSection:CreateDropDown(function(Player)
    if not Players:FindFirstChild(Player)then 
        return Ancestor:Notify('Error','Player Not Found!');
    end;
    SlotName:UpdateText('Loading Info for '..tstring(Player)..'...')
    C_R(C_C(function()
        local Data=Ancestor:GetPlayersSlotInfo(Player)
        SlotName:UpdateText('Showing Info for '..tstring(Player));
        Slot1:UpdateText('Slot 1 Datasize: '..tstring(Data[1]~=nil and Data[1] or '0'));
        Slot2:UpdateText('Slot 2 Datasize: '..tstring(Data[2]~=nil and Data[2] or '0'));
        Slot3:UpdateText('Slot 3 Datasize: '..tstring(Data[3]~=nil and Data[3] or '0'));
        Slot4:UpdateText('Slot 4 Datasize: '..tstring(Data[4]~=nil and Data[4] or '0'));
        Slot5:UpdateText('Slot 5 Datasize: '..tstring(Data[5]~=nil and Data[5] or '0'));
        Slot6:UpdateText('Slot 6 Datasize: '..tstring(Data[6]~=nil and Data[6] or '0'));
    end));
end,{},false,true);
C_R(C_C(function()
    SlotName=PlotInfoSection:CreateTitle('Showing Info for '..tstring(LP))
    local Data=Ancestor:GetPlayersSlotInfo(LP)
    Slot1=PlotInfoSection:CreateLabel('Slot 1 Datasize: '..tstring(Data[1]~=nil and Data[1] or '0'));
    Slot2=PlotInfoSection:CreateLabel('Slot 2 Datasize: '..tstring(Data[2]~=nil and Data[2] or '0'));
    Slot3=PlotInfoSection:CreateLabel('Slot 3 Datasize: '..tstring(Data[3]~=nil and Data[3] or '0'));
    Slot4=PlotInfoSection:CreateLabel('Slot 4 Datasize: '..tstring(Data[4]~=nil and Data[4] or '0'));
    Slot5=PlotInfoSection:CreateLabel('Slot 5 Datasize: '..tstring(Data[5]~=nil and Data[5] or '0'));
    Slot6=PlotInfoSection:CreateLabel('Slot 6 Datasize: '..tstring(Data[6]~=nil and Data[6] or '0'));
end))

local MiscPlotSection=PlotSection:CreateSubSection('Misc Plot Options');
MiscPlotSection:CreateToggle('Slot Saving',false,function(state)GUISettings.DisableSaving=state;end,GUISettings.DisableSaving,true,'Toggles Slot Saving.');
MiscPlotSection:CreateToggle('Fast Deload',false,function(state)GUISettings.FastDeloader=state;end,GUISettings.FastDeloader,true,'Toggles Fast Deloading When Loading.');
local SlotSection=PlotSection:CreateSubSection('Physical Plot Options');
SlotSection:CreateButton('Free Land',function()Ancestor:FreeLand();end,true,true,'Gives You Land For Free.');
SlotSection:CreateButton('Max Land',function()Ancestor:MaxLand();end,true,true,'Max-Lands Your Plot For Free.');
SlotSection:CreateButton('Sell Land Sign',function()Ancestor:SellSign();end,true,true,'Sells Your Plot Sign If You Have One.');
SlotSection:CreateButton('Expand Land',function()PropertyPurchasingClient.setPlatformControls=function()end;PropertyPurchasingClient.enterPurchaseMode(0,true);end,true,true,'Allows You To Expand Your Land To Your Liking.');
local DupeSection=PlotSection:CreateSubSection('Plot Donation Options');
DupeSection:CreateSlider('Plot To Donate',function(slot)Ancestor.BaseToDonate=slot;end,1,6);
DupeSection:CreateToggle('New Method',false,function(state)GUISettings.NewDonateBase=state;end,GUISettings.NewDonateBase,true,'Toggles The New Donate Base Method.');
DupeSection:CreateButton('Donate Plot',function()if GUISettings.NewDonateBase then Ancestor:DonateBase(true)return end;Ancestor:DonateBase();end,true,true,'Donates Your Plot To The Server. Make Sure To Whitelist Them.');
-- local DupeSection=PlotSection:CreateSubSection('Plot Self Duplication Options');
-- DupeSection:CreateSlider('Plot To Dupe',function(slot)Ancestor.BaseToDupe=slot;end,1,6);
-- DupeSection:CreateButton('Self Dupe',function()if not Ancestor:GetPlayersBase()then Ancestor:LoadSlot(Ancestor.BaseToDupe);end;Ancestor:SelfDupe()end,true,true,'Donates Your Plot To The Server. Make Sure To Whitelist Them.');

-- local BuildSection=PlotSection:CreateSubSection('Save/Build Options');
-- BuildSection:CreateTextbox('Save Base To File',function(Name)if not Ancestor:GetPlayersBase()then return SendUserNotice:Fire'Player has no plot Loaded'end; if Name==''then SendUserNotice:Fire'Invalid File Name!'return;end; Ancestor:SaveBaseToFile(nil,Name);SendUserNotice:Fire('Saved '..tstring(Name)..'!');end,'Enter FileName Here',false,true,'Saves The Player\'s Base To A File.');
-- BuildSection:CreateTextbox('Load Base from File',function(Name)Ancestor:LoadBaseFromFile(Name)end,'Enter FileName Here',false,true,'Build The Bases From A File.');


local TreeTab=AncestorUI:CreateTab(8772271242,'Tree Options');
local TreeSection=TreeTab:CreateSection()
local BringTreeSection=TreeSection:CreateSubSection('Bring Tree');
local BringTreeButton;
BringTreeSection:CreateDropDown(function(Option)
    Ancestor.SelectedTreeType=Option;
    if Ancestor.BringTreeAmount<=1 then 
        Title='Tree';
    else
        Title='Trees';
    end;
    BringTreeButton:UpdateHeader('Bring '..Ancestor.BringTreeAmount..' '..Ancestor.SelectedTreeType..' '..Title)
end,{'Generic','GoldSwampy','CaveCrawler','Cherry','Frost','Volcano','Oak','Walnut','Birch','SnowGlow','Pine','GreenSwampy','Koa','Palm','Spooky','SpookyNeon',--[['LoneCave']]},'Generic',false);
BringTreeSection:CreateSlider('Quantity',function(Quantity)Ancestor.BringTreeAmount=Quantity;if Quantity<=1 then Title='Tree';else Title='Trees';end;BringTreeButton:UpdateHeader('Bring '..Ancestor.BringTreeAmount..' '..Ancestor.SelectedTreeType..' '..Title);end,1,10,1,false,nil);
BringTreeButton=BringTreeSection:CreateButton('Bring 1 Generic Tree',function()Ancestor:BringTree();end,true,true,'Brings The Selected Amount Of The Selected Tree To You.');
-- local BuildSection=PlotSection:CreateSubSection('Save/Build Options');


BringTreeButton:UpdateHeader('Bring '..Ancestor.BringTreeAmount..' '..Ancestor.SelectedTreeType..' Tree')


local DraggingOptions=TreeSection:CreateSubSection('Dragging Options');
DraggingOptions:CreateToggle('Hard Dragger',false,function(state)GUISettings.HardDragger=state;Ancestor:HardDragger(state)end,GUISettings.HardDragger,true,'Makes Picking Up Heavy Trees/Items Much Easier.');

local MoneyTab=AncestorUI:CreateTab(5182389716,'Money Options');
local MoneySection=MoneyTab:CreateSection()
local Autobuy=MoneySection:CreateSubSection('Autobuy');
Autobuy:CreateDropDown(function(item)Ancestor:GetItemInfo(item,'Name')end,{unpack(Ancestor:GetStoreItems())},'Basic Hatchet - $12',false);
Autobuy:CreateSlider('Amount',function(Quantity)AutobuyAmount=Quantity;end,1,100);
Autobuy:CreateButton('Purchase Item/s',function()Ancestor:AutobuyItems();end,true,true,'Auto-Buys The Selected Items.');
local DupeMoney=MoneySection:CreateSubSection('Money Duplication');
game:GetService("CoreGui").Ancestor.MainFrame.Sections["Money Options"].Sections.Frame.ScrollingFrame.Frame.Position=UDim2.new(0.5,0,.49,0)
DupeMoney:CreateSlider('Amount',function(Quantity)DupeMoneyQuantity=Quantity;end,1,10);
DupeMoney:CreateButton('Dupe Money On Selected Slot',function()Ancestor:DupeMoney();end,true,true,'Duplicates Your Current Money Amount.');
DupeMoney:CreateButton('Abort Dupe Money',function()if Ancestor.MoneyDuping then Ancestor.MoneyDuping=false;SendUserNotice:Fire'Attempting To Abort Money Dupe!';else SendUserNotice:Fire'Money Dupe Is Not Active!';end;end,true,true,'Terminates Money Duplication. May Take A While.');
local AxeTab=AncestorUI:CreateTab(8772286873,'Axe Options');
local AxeSection=AxeTab:CreateSection()
local AxeModifications=AxeSection:CreateSubSection('Axe Stats');

AxeModifications:CreateSlider('Axe Range',function(Quantity)GUISettings.AxeRange=Quantity;if GUISettings.AxeRangeActive then Ancestor:SetAxeRange(true,Quantity)end;end,0,120,GUISettings.AxeRange,true,'Modifies Your Axe Range So You Can Cut Trees From A Longer Distance.');
AxeModifications:CreateToggle('Activate Axe Range',false,function(toggle)GUISettings.AxeRangeActive=toggle;Ancestor:SetAxeRange(true,GUISettings.AxeRange)if not toggle then Ancestor:SetAxeRange(false)end;end,GUISettings.AxeRangeActive,true,'Activates Axe Range Modifications.');
AxeModifications:CreateToggle(' No Axe Cooldown',false,function(toggle)GUISettings.AxeSwingActive=toggle;Ancestor:SetSwingCooldown(true)if not toggle then Ancestor:SetSwingCooldown(false)end;end,GUISettings.AxeSwingActive,true,'Removes The ClientSided Cooldown For Swinging Axes.');

local AxeInformation=AxeSection:CreateSubSection('Current Axe Information');
AxeNameLabel=AxeInformation:CreateLabel('Current Axe Not Found');
AxeRangeLabel=AxeInformation:CreateLabel('Range: NULL')
AxeCooldownLabel=AxeInformation:CreateLabel('Cooldown: NULL')
-- AxeInformation:CreateLabel('Name: BasicHatchet')
local AxeModifications=AxeSection:CreateSubSection('Duplication Options');
local DupeInventory;
DupeInventory=AxeModifications:CreateToggle('Dupe Inventory',false,function(toggle)GUISettings.DupeInventory=toggle;if toggle then if not Ancestor:DupeInventory()then  task.wait(.3)DupeInventory:Toggle()end;end;end,false,true,'Duplicates Your Inventory.');

local AxeOptions=AxeSection:CreateSubSection('Axe Options');
AxeOptions:CreateButton('Drop All Tools',function()Ancestor:DropTools();end,true,true,'Drops All Your Tools.');

local BuildTab=AncestorUI:CreateTab(8772073607,'Build Options');
local BuildSection=BuildTab:CreateSection()
local BuildMode=BuildSection:CreateSubSection('Build Mode - Currently Under Development');

local CarTab=AncestorUI:CreateTab(8821528672,'Car Options');
local CarSection=CarTab:CreateSection()
local CarMods=CarSection:CreateSubSection('Vehicle Options');
CarMods:CreateSlider('Car Speed',function(Speed)GUISettings.CarSpeed=Speed;end,1,4,GUISettings.CarSpeed,true,'Modifies Your Car Speed So You Can Drive Faster.');
CarMods:CreateSlider('Car Pitch',function(Speed)GUISettings.CarPitch=Speed;end,1,20,GUISettings.CarPitch,true,'Modifies Your Car Pitch So You Can Annoy Other Players.');
CarMods:CreateToggle('Activate Car Modifications',false,function(toggle)GUISettings.ActivateCarModifications=toggle;if not toggle then Ancestor:ResetCarSpeed()end;end,GUISettings.ActivateCarModifications,true,'Activates Car Modifications.');
-- local BaseDropTab=AncestorUI:CreateTab(8785403056,'Theme Options');
-- local BaseDropSection=BaseDropTab:CreateSection()
-- local BaseDrop=BaseDropSection:CreateSubSection('Theme Options - Currently Under Development');

local SettingsMain=AncestorUI:CreateTab(5182003557,'Settings');
local SettingsSection=SettingsMain:CreateSection();
local Credits=SettingsSection:CreateSubSection('Credits');
Credits:CreateLabel'Made By Ancestor';
local GUIInfo=SettingsSection:CreateSubSection('GUI Information');
GUIInfo:CreateLabel('Version: '..tstring(CurrentVersion));
GUIInfo:CreateLabel('Executor: '..tstring(Executor));
local Ping,CPU,CurrentSlot;
Ping=GUIInfo:CreateLabel('Ping: '..math.floor(game:GetService("Stats").PerformanceStats.Ping:GetValue())..'ms');
CPU=GUIInfo:CreateLabel('CPU: '..math.floor(game:GetService("Stats").PerformanceStats.CPU:GetValue())..'ms');
CurrentSlot=GUIInfo:CreateLabel('');
Connections[#Connections+1]={Name='Ping',Function=Stepped:Connect(function()
    Ping:UpdateText('Ping: '..math.floor(game:GetService("Stats").PerformanceStats.Ping:GetValue())..'ms');
    CPU:UpdateText('CPU: '..math.floor(game:GetService("Stats").PerformanceStats.CPU:GetValue())..'ms');
    CurrentSlot:UpdateText('Current Loaded Slot: '..(Ancestor:GetLoadedSlot()>0 and Ancestor:GetLoadedSlot()or 'None'));
end)}

local ConfigurationSettings=SettingsSection:CreateSubSection('Configuration Settings');
ConfigurationSettings:CreateButton('Save Configuration',function()Ancestor:SaveConfigurationFile()end,true,true,'Saves Your Confiuration File');
ConfigurationSettings:CreateButton('Delete Configuration',function()Ancestor:DeleteConfigurationFile()end,true,true,'Deletes Your Confiuration File');
local PlotNameSettings=SettingsSection:CreateSubSection('Plot Name Settings');
PlotNameSettings:CreateTextbox('Slot 1 Name',function(Name)SlotNames.Slot1=Name;Ancestor:GetPlotButtonByID(1).Text=Name;end,SlotNames.Slot1,false,true,'Renames Slot 1 To Your Preferred Name.',true);
PlotNameSettings:CreateTextbox('Slot 2 Name',function(Name)SlotNames.Slot2=Name;Ancestor:GetPlotButtonByID(2).Text=Name;end,SlotNames.Slot2,false,true,'Renames Slot 2 To Your Preferred Name.',true);
PlotNameSettings:CreateTextbox('Slot 3 Name',function(Name)SlotNames.Slot3=Name;Ancestor:GetPlotButtonByID(3).Text=Name;end,SlotNames.Slot3,false,true,'Renames Slot 3 To Your Preferred Name.',true);
PlotNameSettings:CreateTextbox('Slot 4 Name',function(Name)SlotNames.Slot4=Name;Ancestor:GetPlotButtonByID(4).Text=Name;end,SlotNames.Slot4,false,true,'Renames Slot 4 To Your Preferred Name.',true);
PlotNameSettings:CreateTextbox('Slot 5 Name',function(Name)SlotNames.Slot5=Name;Ancestor:GetPlotButtonByID(5).Text=Name;end,SlotNames.Slot5,false,true,'Renames Slot 5 To Your Preferred Name.',true);
PlotNameSettings:CreateTextbox('Slot 6 Name',function(Name)SlotNames.Slot6=Name;Ancestor:GetPlotButtonByID(6).Text=Name;end,SlotNames.Slot6,false,true,'Renames Slot 6 To Your Preferred Name.',true);
PlotNameSettings:CreateButton('Save Slot Names',function()Ancestor:SaveSlotNames();end,true,true,'Saves Your Slot Names ONLY For The Current ROBLOX Account.');
local Settings=SettingsSection:CreateSubSection('GUI Settings');
Settings:CreateKeybind('Toggle UI',function(v)
    game.CoreGui.Ancestor.Enabled=not game.CoreGui.Ancestor.Enabled;
end,Enum.KeyCode.RightControl,true,'Toggles UI Visibility.');
Settings:CreateToggle('GUI Tips',false,function(toggle)for i,v in next,AncestorUI:GetHelpSections()do v.Visible=toggle;end;end,true,true,'Toggles GUI Tips');
Settings:CreateTitle('Dropdown Name Settings')
Settings:CreateDropDown(function(Type)
   PlayerDropType=Type;
   GUISettings.SelectedDropType=Type;
   PlayerDropType=GUISettings.SelectedDropType
end,{'Both','DisplayName','UserName'},GUISettings.SelectedDropType);
Connections[#Connections+1]={Name='DestroyedGUI',Function=game.CoreGui.ChildRemoved:Connect(function(Child)
    if tstring(Child)=='Ancestor'then
        Ancestor_Loaded=false;
        GUISettings.IsClientFlying=false;GUISettings.Fling=false;
		for i=1,#Connections do 
			Connections[i].Function:Disconnect();
		end;
    end;
end)};warn('Loaded AncestorV2 In '..tstring(os.time()-Start)..' Second/s =^w^=');
